<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans" xml:lang="zh-hans" dir="ltr">
  
<!-- Mirrored from edgefans.tk/book/export/html/204 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:12:02 GMT -->
<head>
    <title>关卡地图</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
    <base  />
    <script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"abf52a451ec7c4c9a3d7ede279cc4b89",petok:"f872c75b834b458ce84b715aca61a9eb66f0bf57-1419673882-1800",zone:"edgefans.tk",rocket:"0",apps:{"abetterbrowser":{"ie":"7"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="../../../../ajax.cloudflare.com/cdn-cgi/nexp/dok2v%3d919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link type="text/css" rel="stylesheet" href="../../../misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
                <div class="section-3">
              <div id="node-204" class="section-4">
  <h1 class="book-heading">关卡地图</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina42f.html?destination=node/204%23comment-form">登录</a>或<a href="../../../user/registera42f.html?destination=node/204%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　关卡地图就是那一坨 .{z}.png 文件，每一个文件都表示所在的 z 坐标那一层上的地图。</p>
<h3>快速入门</h3>
<p>　　第 0 层有方块的使用 #FFFF80 [rgb(255,255,128)] 填充，其他层使用 #FFFFFF [rgb(255,255,255)]，剩下没有方块的使用 #000000 [rgb(0,0,0)] 填充即可。<br />
　　在生成模型没有被 <a href="../../../developers/file-formats/level-bin/Level.html">Level/@ModelTheme</a> 禁用的情况下编译关卡可以得到一个 <a href="../../../developers/file-formats/asset/eso.html">.eso 模型</a>，将其放在 models 文件夹即可。</p>
<h3>特别的技巧</h3>
<h4>R 通道（方块模式）</h4>
<table><tr><td class="nowrap">255 (0xFF)</td>
<td>方块模式。玩家方块可以与这个方块碰撞。具体值没有影响。</td>
</tr><tr><td class="nowrap">224-254 (0xE0 - 0xFE)</td>
<td>静态发光移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">192-223 (0xC0 - 0xDF)</td>
<td>静态发光半移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">160-191 (0xA0 - 0xBF)</td>
<td>静态移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">128-159 (0x80 - 0x9F)</td>
<td>静态半移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">0-127 (0x00 - 0x7F)</td>
<td>无方块模式。玩家方块不会与这个方块碰撞。</td>
</tr></table><p>移动方块模式下没有静态方块，因为它使用不移动的<a href="../../../developers/file-formats/level-bin/Level/MovingPlatform.html">移动方块</a>来代替。半移动方块即只有上半格，对应 @FullBlock=False。发光移动方块即看起来像在移动，就像在 crystal mine 一关中一样，这也是通常的移动方块使用方式。这种模式需要注意：</p>
<ol><li>静态方块在移动版中会有具体的形状（因为移动版不支持模型），在 Z=0 处只有上半层，其他地方都是完整的方块，但在 PC 版中只是让玩家方块碰撞用，在关卡中没有具体的形状，你需要使用模型来使方块具有外观；</li>
<li>不推荐生成模型，会出现重叠的现象；（如果你实在想得不行，那好吧，我想应该还是可以的）</li>
<li>即使移动方块不在移动，游戏也会将其当作移动方块，因此一些机关（如在移动方块上 EDGE 时很可能会停在一块上而不会被另一块捡起）可能会失效，也可能会出现穿墙 BUG；</li>
<li>地板颜色为同一种颜色，而不是棋盘式的深浅相间；</li>
<li>不同的方格之间有很明显的线条分隔。</li>
</ol><h4>G 通道（模型主题）</h4>
<table><tr><td class="nowrap">192-255 (0xC0 - 0xFF)</td>
<td>默认主题，即 Level/@ModelTheme。具体值没有影响。</td>
</tr><tr><td class="nowrap">128-191 (0x80 - 0xBF)</td>
<td>使用除了上面一个以外最亮（即数字最小）的主题。具体值没有影响。</td>
</tr><tr><td class="nowrap">64-127 (0x40 - 0x7F)</td>
<td>使用除了上面两个以外较亮（即数字较小）的主题。具体值没有影响。</td>
</tr><tr><td class="nowrap">0-63 (0x00 - 0x3F)</td>
<td>还剩最后一个主题当然就归它啦。具体值没有影响。</td>
</tr></table><h4>B 通道（模型高度）</h4>
<table><tr><td class="nowrap">255 (0xFF)</td>
<td>生成一个完整的方块模型。</td>
</tr><tr><td class="nowrap">2-254 (0x02 - 0xFE)</td>
<td>生成只有上面 1/254 - 253/254 个方块的模型。</td>
</tr><tr><td class="nowrap">1 (0x01)</td>
<td>生成只有上面 0% 的方块模型。（即只有最顶上一层）</td>
</tr><tr><td class="nowrap">0 (0x00)</td>
<td>不为此方块生成模型。</td>
</tr></table><p>常用高度：<a href="../../../developers/file-formats/level-bin/Level/FallingPlatform.html">可掉落平台</a> 13.2893%, 35, 0x23；半格 50%, 128, 0x80。</p>
<h3>更多信息</h3>
<p>由 EdgeTool 生成的模型与标准关卡的模型还是存在一些细微的区别：</p>
<ol><li>生成的 .eso 文件在生成方块的东面和南面时会比标准关卡中的 .eso 文件中多生成一些<a href="../../../developers/file-formats/asset/eso/Models/Model/Triangle.html">三角形</a>，这将导致编译出的文件大小增大 50%，并在三角形数量极多的情况下拖慢游戏在超级低端设备上的流畅运行。</li>
<li>标准关卡中的 .eso 文件在终点处有一个下凹的装置，但是既然游戏中看不到，生成的 .eso 文件中去掉了这个冗余的东西。</li>
<li>由于生成的 .eso 文件使用的是游戏自带（或 <a href="../../../mods/edge-epic.html">EDGE Epic</a> 中）的 <a href="../../../developers/file-formats/asset/ema.html">.ema 材料</a>以及 .eso 模型（见附表），如果你的关卡太大可能会导致超过背景的大小而使背景没有装饰物。（不过这个问题并不是很大）</li>
</ol><p>　　想知道更多关于生成的 .eso 文件的技术细节，请查看<a href="../../../developers/file-formats/asset/eso/level-model.html">这篇文章</a>。如果你不嫌麻烦，你同样可以在阅读这篇文章后修改或自己制作 .eso 模型来打造关卡的外观（包括往里面加几张图片之类）。</p>
<p>附主题所对应使用的模型列表：</p>
<table><thead><tr><th>主题索引</th>
<th>Models/@NodeChild (背景)</th>
<th>Models/Model/@MaterialAsset (方块)</th>
<th>源关卡 ID</th>
</tr></thead><tbody><tr><td>0</td>
<td>67228D77050DB82A</td>
<td>2F2CC05D050DB82A</td>
<td>level551</td>
</tr><tr><td>1</td>
<td>1DE2AE87050DB82A</td>
<td>55ECE3AD050DB82A</td>
<td>level512</td>
</tr><tr><td>2</td>
<td>8A7DBFAE050DB82A</td>
<td>C273F284050DB82A</td>
<td>level532</td>
</tr><tr><td>3</td>
<td>451F8839050DB82A</td>
<td>0D11C513050DB82A</td>
<td>level545</td>
</tr></tbody></table></div></div></div>  </div>
    </div></div></div>  </body>

<!-- Mirrored from edgefans.tk/book/export/html/204 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:12:02 GMT -->
</html>
