<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans" xml:lang="zh-hans" dir="ltr">
  
<!-- Mirrored from edgefans.tk/book/export/html/43 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:29:00 GMT -->
<head>
    <title>.ean 动画</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
    <base  />
    <script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"abf52a451ec7c4c9a3d7ede279cc4b89",petok:"6c9eb8eb9e4b07cb9741b91f564937b11bf3232e-1419675169-1800",zone:"edgefans.tk",rocket:"0",apps:{"abetterbrowser":{"ie":"7"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="../../../../ajax.cloudflare.com/cdn-cgi/nexp/dok2v%3d919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link type="text/css" rel="stylesheet" href="../../../misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
                <div class="section-3">
              <div id="node-43" class="section-4">
  <h1 class="book-heading">.ean 动画</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb38f.html?destination=node/43%23comment-form">登录</a>或<a href="../../../user/registerb38f.html?destination=node/43%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.ean 动画文件存放在 models 文件夹中。它存放了游戏中使用的动画。<br />
其原来文件名的扩展名为 .rcha，使用 EdgeTool 反编译时实际输出为 .xml 文件。<br />
命名空间：<code>models</code><br />
此文件的二进制结构过于复杂，这里只讲其 XML，如有兴趣请见：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EAN.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EAN.cs</a><br />
反编译后得到的 XML 其根元素为 Animation 元素。</p>
</div></div></div>  <div id="node-44" class="section-5">
  <h1 class="book-heading">Animation 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login7d28.html?destination=node/44%23comment-form">登录</a>或<a href="../../../user/register7d28.html?destination=node/44%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Animation（动画），表示一个动画。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Unknown</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Duration</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。指定动画的时长。</td>
</tr><tr><td class="nowrap">NodeChild</td>
<td class="nowrap">文本</td>
<td>可选。指定该动画第一个子动画的ID。</td>
</tr><tr><td class="nowrap">NodeSibling</td>
<td class="nowrap">文本</td>
<td>可选。指定该动画下一个兄弟动画的ID。该属性与上面提到的 @NodeChild，实质上是<a href="http://book.51cto.com/art/201008/220481.htm">多叉树的二叉树表示方法</a>，也就是所谓的左孩子右兄弟。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Animation Duration="110"&gt;
  ...
&lt;/Animation&gt;</pre><p>子元素列表：关键帧块元素（元素名各异，0～9个）</p>
</div></div></div>  <div id="node-45" class="section-6">
  <h1 class="book-heading">关键帧块元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginf5f3.html?destination=node/45%23comment-form">登录</a>或<a href="../../../user/registerf5f3.html?destination=node/45%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：关键帧块元素表示对目标物体某一个属性的一系列关键帧。其元素名前半部分为 Rotate（旋转）、Scale（缩放）、Translate（平移）中的一个，后半部分为 X、Y、Z 中的一个。<br />
请注意这里的Y、Z轴方向应在关卡 .bin 格式中的基础上相互交换。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Value</td>
<td class="nowrap">32位浮点数</td>
<td>可选，在 Rotate 和 Translate 中默认为 0，在 Scale 中默认为 1。指定动画开始前的值。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;RotateX Value="-90"&gt;
  ...
&lt;/RotateX&gt;</pre><p>子元素列表：Keyframe 元素</p>
</div></div></div>  <div id="node-46" class="section-7">
  <h1 class="book-heading">Keyframe 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginfab4.html?destination=node/46%23comment-form">登录</a>或<a href="../../../user/registerfab4.html?destination=node/46%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Keyframe（关键帧），表示在某一特定时刻当前物体当前属性的值，关键帧与关键帧之间将使用线性插值平滑过渡。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Time</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为 0。指定时刻。</td>
</tr><tr><td class="nowrap">Value</td>
<td class="nowrap">32位浮点数</td>
<td>可选，在 Rotate 和 Translate 中默认为 0，在 Scale 中默认为 1。指定这一时刻的值。</td>
</tr><tr><td class="nowrap">Delta</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为 0。指定Δ。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Keyframe Time="6" Value="-89.9999888440998" Delta="19.9999977106385" /&gt;</pre></div></div></div>  </div>
</div>
</div>
<div id="node-105" class="section-5">
  <h1 class="book-heading">绘制动画树</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginc931.html?destination=node/105%23comment-form">登录</a>或<a href="../../../user/registerc931.html?destination=node/105%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/draw-animation-tree.png~original" /><br />
EdgeTool 提供了绘制动画树的功能来便于你搞清楚同一个动画中各个字动画之间的父子关系。<br />
绘制动画树时 EdgeTool 会搜索以下位置来查找某个动画的依赖项：<br /><a href="../../../developers/file-formats/asset/ean/Animation.html">/Animation</a>/@NodeChild<br /><a href="../../../developers/file-formats/asset/ean/Animation.html">/Animation</a>/@NodeSibling<br />
动画名除了可以输入下拉列表中列出的各项以外你还可以自己随便打一些乱七八糟的东西，但是你自己制作的动画很可能并不会被游戏使用。</p>
</div></div></div>  </div>
</div>
    </div></div></div>  </body>

<!-- Mirrored from edgefans.tk/book/export/html/43 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:29:00 GMT -->
</html>
