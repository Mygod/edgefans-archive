<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans" xml:lang="zh-hans" dir="ltr">
  
<!-- Mirrored from edgefans.tk/book/export/html/14 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:06:43 GMT -->
<head>
    <title>EDGE 文件格式</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
    <base  />
    <script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"abf52a451ec7c4c9a3d7ede279cc4b89",petok:"5cbc1327667de4b9d9c1668d32c0fc3654979929-1419673418-1800",zone:"edgefans.tk",rocket:"0",apps:{"abetterbrowser":{"ie":"7"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="../../../../ajax.cloudflare.com/cdn-cgi/nexp/dok2v%3d919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link type="text/css" rel="stylesheet" href="../../../misc/print.css" />
      </head>
  <body>
              <div class="section-1">
              <div id="node-14" class="section-2">
  <h1 class="book-heading">EDGE 文件格式</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login09c8.html?destination=node/14%23comment-form">登录</a>或<a href="../../../user/register09c8.html?destination=node/14%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>以下是游戏使用的几种文件格式。</p>
</div></div></div>  <div id="node-17" class="section-3">
  <h1 class="book-heading">.bin 关卡</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind26b.html?destination=node/17%23comment-form">登录</a>或<a href="../../../user/registerd26b.html?destination=node/17%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>在游戏的 levels 目录下除 mapping.xml 以外就是一大堆一大堆的 .bin 文件。这些文件存放着关卡的核心信息。该游戏的所有版本都使用这种 .bin 文件，且差异很小，基本可以相互移植。<br />
该文件描述了这种 .bin 文件的格式：<a href="https://github.com/Mygod/Edge/blob/master/EdgeTool/Core/EdgeBin.h">https://github.com/Mygod/Edge/blob/master/EdgeTool/Core/EdgeBin.h</a><br />
显然手动修改这种 .bin 文件的工作量和复杂度就像地狱一样！因此推荐你通过使用 EdgeTool 反编译、编译这种文件来修改/制作这种文件。</p>
<h3>坐标系</h3>
<p>.bin 关卡文件的坐标系与游戏中其他部分截然不同。<br />
关卡文件中使用的三维坐标系中 X 轴与其他坐标系相同，都是正方向为右（东）。<br />
Y 轴的正方向为后（南）。<br />
Z 轴的正方向为上。</p>
<h3>反编译</h3>
<p>反编译一个 .bin 文件，你通常会得到三种文件：</p>
<ol><li>一个 .xml 文件，这是关卡文件的核心所在，存放了一切机关之类的东西。其根元素为 Level 元素。</li>
<li>一个 .png 文件（可能没有，这时表示里面啥东西也没有），这是旧版小地图，暂时无法断定它的真正用途。它的宽度是 (关卡宽度 + 关卡长度) / 10 向上取整，高度是 (关卡宽度 + 关卡长度 + 2 x 关卡高度) / 10 向上取整，如果文件不存在或大小不正确，其内容将被当作全空处理。</li>
<li>一堆 .{z}.png 文件，具体见下面的《关卡地图》。</li>
</ol></div></div></div>  <div id="node-18" class="section-4">
  <h1 class="book-heading">Level 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login64ea.html?destination=node/18%23comment-form">登录</a>或<a href="../../../user/register64ea.html?destination=node/18%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：EDGE 关卡 XML 的根元素，表示一个关卡。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">ID</td>
<td class="nowrap">32位整数</td>
<td>必填。关卡的标识符。若相同ID的关卡同时安装在游戏中，则只会显示前一个。为了避免冲突，请至少使用五位数作为关卡 ID，并使用一个随机生成的前缀。</td>
</tr><tr><td class="nowrap">Name</td>
<td class="nowrap">文本</td>
<td>必填。关卡名。</td>
</tr><tr><td class="nowrap">TimeThresholds</td>
<td class="nowrap">16位自然数列表</td>
<td>必填。由 5 个数字组成，分别表示达到 S+、S、A、B、C 所需的秒数，<a href="../../../developers/file-formats/level-bin/mobile-levels.html">请注意这里手机版比较特殊</a>。达到 S+、S、A、B、C 所需的时间必须严格递增，否则将无法获得部分评级。</td>
</tr><tr><td class="nowrap">Size</td>
<td class="nowrap">三维大小</td>
<td>必填。填写关卡大小。</td>
</tr><tr><td class="nowrap">SpawnPoint</td>
<td class="nowrap">三维坐标</td>
<td>必填。方块起始坐标。</td>
</tr><tr><td class="nowrap">ExitPoint</td>
<td class="nowrap">三维坐标</td>
<td>必填。终点坐标。如果 X 坐标 ∉ [0,宽度) 或 Y 坐标 ∉ [0,长度) 或 Z 坐标 ∉ (0,高度] 会导致游戏崩溃。</td>
</tr><tr><td class="nowrap">Theme</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。指定关卡内部方块的外观主题。如果大于3则会在游戏中变成0。0为白色主题，1为浅灰色主题，2为深灰色主题，3为黑色主题。只有白色主题的背景会有一闪一闪的星星。（可以通过 models 添加不会闪烁的星星）请注意设置主题并不影响那些在 models 中的静态方块的外观。如果想要修改请使用 GenerateModel 元素。</td>
</tr><tr><td class="nowrap">MusicJava</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。在Java版上播放音乐的索引。如果大于11则会在游戏中变为0。<a href="http://pan.baidu.com/share/link?shareid=3923516135&amp;uk=3104462449">音乐列表</a>（前面的数字为代号）：<a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/CKUhyOkWUU4.html">00_menus</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/ivXGtytALk0.html">01_braintonik</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/vHIzcr_M6i8.html">02_cube_dance</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/KIUaVVZZr98.html">03_essai_2</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/9bTVIQLw3Io.html">04_essai_01</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/2bUmAb8aOH4.html">05_test</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/RJDweVAP3vM.html">06_mysterycube</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/rYl-kdBRKPY.html">07_03_EDGE</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/y5FsTT58QR8.html">08_jungle</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/tbyMU2hAQ6A.html">09_RetardTonic</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/3KH5E5tFHXc.html">10_oldschool_simon</a>, <a href="http://www.tudou.com/listplay/iZ5TCo0ERjc/XwPMtT1Amdk.html">11_planant</a></td>
</tr><tr><td class="nowrap">Music</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为6。在其他版本上播放音乐的索引。如果大于24则会在游戏中变为6。音乐列表（前面的数字为代号）：00_Title, 01_Eternity, 02_Quiet, 03_Pad, 04_Jingle, 05_Tec, 06_Kakkoi, 07_Dark, 08_Squadron, 09_8bits, 10_Pixel, 11_Jupiter, 12_Shame, 13_Debrief, 14_Space, 15_Voyage_geometrique, 16_Mzone, 17_R2, 18_Mystery_cube, 19_Duty, 20_PerfectCell, 21_fun, 22_lol, 23_lostway, 24_wall_street</td>
</tr><tr><td class="nowrap">Zoom</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为-1。关卡开始时的缩放级别，在这里填写小于1或任何大于5（而不是6）的整数的效果都和填写1相同。其余功能与 <a href="../../../developers/file-formats/level-bin/Level/CameraTrigger.html">CameraTrigger 元素中的对应属性</a>相同。</td>
</tr><tr><td class="nowrap">Angle</td>
<td class="nowrap">16位整数</td>
<td>可选。表示在关卡开始时高级缩放模式下的相机的观察角度。具体功能与 <a href="../../../developers/file-formats/level-bin/Level/CameraTrigger.html">CameraTrigger 元素中的对应属性</a>相同。</td>
</tr><tr><td class="nowrap">FieldOfView</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为0。指定触发后的视野大小。具体功能与 <a href="../../../developers/file-formats/level-bin/Level/CameraTrigger.html">CameraTrigger 元素中的对应属性</a>相同。</td>
</tr><tr><td class="nowrap">ModelTheme</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认与 @Theme 相同。指定生成模型使用的默认主题与背景所使用的主题。设置为 3 以上可以禁用生成模型。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Level ID="309" Name="1st contact" TimeThresholds="9,25,55,85,145"
       Size="14x26x4" SpawnPoint="3,22,62" ExitPoint="11,12,1" MusicJava="5"
       Music="6" Zoom="1"&gt;
  ...
&lt;/Level&gt;</pre><p>子元素列表：<br />
MovingPlatform<br />
Bumper<br />
FallingPlatform<br />
Checkpoint<br />
CameraTrigger<br />
Prism<br />
Fan（<a href="../../../developers/file-formats/level-bin/deprecated.html">已过时</a>）<br />
Button<br />
ButtonSequence<br />
OtherCube<br />
DarkCube<br />
ResizerGrow &amp; ResizerShrink<br />
MiniBlock（<a href="../../../developers/file-formats/level-bin/deprecated.html">已过时</a>）</p>
</div></div></div>  <div id="node-19" class="section-5">
  <h1 class="book-heading">MovingPlatform 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginf9d0.html?destination=node/19%23comment-form">登录</a>或<a href="../../../user/registerf9d0.html?destination=node/19%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/movingplatforms.png~original" /><br />
说明：MovingPlatform（移动方块），表示一个会移动的方块，其颜色由/Level/@Theme指定。请注意移动方块顶部的颜色永远都是浅色，而不是像模型中的静态方块那样深浅相间。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">ID</td>
<td class="nowrap">ID</td>
<td>可选。填写后可用于被引用。</td>
</tr><tr><td class="nowrap">AutoStart</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为True。指定在关卡开始时是否该方块是否需要移动。</td>
</tr><tr><td class="nowrap">LoopStartIndex</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为1。指定当移动方块移动到最后一个路点后的下一个路点的索引（从1开始）。将该值设置为0可以使移动方块在移动到最后一个路点后停止移动。若索引大于路点数量很可能会导致一些BUG。</td>
</tr><tr><td class="nowrap">Clones</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为-1。<a href="../../../developers/file-formats/level-bin/deprecated.html">已过时</a>。</td>
</tr><tr><td class="nowrap">FullBlock</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为True。指定该移动方块是完整的一个方块还是只有上半个。（请注意这只是外观上不同，在游戏物理引擎中两者并无差别）</td>
</tr><tr><td class="nowrap">RelatedTo</td>
<td class="nowrap">ID</td>
<td>可选。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。指定后该移动方块会与目标移动方块保持相对静止，而其 Waypoint 子元素将会被加到目标移动方块移动序列之后。</td>
</tr><tr><td class="nowrap">Offset</td>
<td class="nowrap">三维坐标</td>
<td>可选。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。仅在指定 @RelatedTo 后此项才有效。指定与目标移动方块的偏移量。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;MovingPlatform ID="Block19" AutoStart="False" LoopStartIndex="0"&gt;
  ...
&lt;/MovingPlatform&gt;</pre><p>子元素列表：<br />
Waypoint</p>
</div></div></div>  <div id="node-20" class="section-6">
  <h1 class="book-heading">Waypoint 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind030.html?destination=node/20%23comment-form">登录</a>或<a href="../../../user/registerd030.html?destination=node/20%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Waypoint（路点），表示移动方块到达的一个点。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。该点的坐标。请注意这里的Z坐标应该在原坐标基础上-1，否则在游戏中将显示不正常！</td>
</tr><tr><td class="nowrap">TravelTime</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。移动到该点需要使用的帧（1/22秒）数。请注意如果该值过大可能会导致走到一半弹回来的 BUG！如果遇到这样的 BUG，如果可能请把一个路点拆成两个或多个。</td>
</tr><tr><td class="nowrap">PauseTime</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。在该点停留的帧（1/22秒）数。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Waypoint Position="-1,-81,4" PauseTime="24" /&gt;</pre></div></div></div>  </div>
</div>
<div id="node-21" class="section-5">
  <h1 class="book-heading">Bumper 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginbf28.html?destination=node/21%23comment-form">登录</a>或<a href="../../../user/registerbf28.html?destination=node/21%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/bumper.png~original" /><br />
说明：Bumper（撞击器），表示一个支持撞击的方块。请注意撞击器顶部的颜色永远都是浅色，而不是像模型中的静态方块那样深浅相间。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">ID</td>
<td class="nowrap">ID</td>
<td>可选。填写后可用于被@AffectBumpers引用。</td>
</tr><tr><td class="nowrap">Enabled</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为True。指定撞击器在关卡开始时是否被启用。</td>
</tr><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定撞击器的位置。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Bumper Position="11,4,0"&gt;
  ...
&lt;/Bumper&gt;</pre><p>子元素列表：<br />
North &amp; East &amp; South &amp; West 元素 各 0～1 个</p>
</div></div></div>  <div id="node-23" class="section-6">
  <h1 class="book-heading">North &amp; East &amp; South &amp; West 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina736.html?destination=node/23%23comment-form">登录</a>或<a href="../../../user/registera736.html?destination=node/23%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：撞击方向元素指定撞击器在该方向撞击的动作。省略该元素表示在该方向上不撞击。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">StartDelay</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为0。表示从关卡开始到第一次撞击之间的帧（1/22秒）数。若为-1表示不撞击。</td>
</tr><tr><td class="nowrap">PulseRate</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为0。表示两次撞击之间间隔的帧（1/22秒）数。若为-1表示不撞击。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;South PulseRate="30" /&gt;</pre></div></div></div>  </div>
</div>
<div id="node-25" class="section-5">
  <h1 class="book-heading">FallingPlatform 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login87a7.html?destination=node/25%23comment-form">登录</a>或<a href="../../../user/register87a7.html?destination=node/25%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：FallingPlatform（可掉落平台），表示一个受到方块压过后在一段时间后就会消失的方块，其外观为一块会掉落的瓷砖。请注意：</p>
<ol><li>可掉落平台有腐蚀一切静态方块包括终点在内（除 <a href="../../../developers/file-formats/level-bin/Level/Bumper.html">Bumper</a> 外）的功能！</li>
<li>当可掉落平台的 Z 坐标 ∈ (0,高度] 且 (X 坐标 ∈ [0,宽度] 且 Y 坐标 = 长度 或 X 坐标 = 宽度 且 Y 坐标 ∈ [0,长度]) 时可掉落平台虽然可见但是可以被玩家方块穿透。</li>
<li>当玩家方块站在一块 Z 坐标 ≤ 0 的可掉落平台上时将无法向上翻滚/EDGE！</li>
</ol><p>属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定可掉落平台的坐标。</td>
</tr><tr><td class="nowrap">FloatTime</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为20。表示压过到掉落之间间隔的帧（1/22秒）数。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;FallingPlatform Position="14,3,1" FloatTime="10" /&gt;</pre></div></div></div>  </div>
<div id="node-27" class="section-5">
  <h1 class="book-heading">Checkpoint 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login478d.html?destination=node/27%23comment-form">登录</a>或<a href="../../../user/register478d.html?destination=node/27%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Checkpoint（存档点），若在方块经过这一点（或这一范围）后死亡（或在菜单中选择 last checkpoint），会恢复到这一点，并恢复到达这一点时的状态。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定存档点的坐标。</td>
</tr><tr><td class="nowrap">RespawnZ</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为0。指定恢复时方块的Z坐标。</td>
</tr><tr><td class="nowrap">Radius</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。使方块的坐标与存档点坐标之差的绝对值小于此值时也认为是到达了存档点。（换言之可以使存档点变成一个矩形）</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Checkpoint Position="6,22,1" RespawnZ="1" Radius="0,1" /&gt;</pre><p>注意：</p>
<ul><li>在关卡中一旦排在后面的 Checkpoint 被激活后，在这个 Checkpoint 及之前的所有 Checkpoint 将不能被激活，因此顺序是非常重要的；</li>
<li>Checkpoint 只有玩家方块停在该位置或从其他位置翻到这一位置（如 arksecktor 一关所示）才会被激活，在空中降落时无法激活任何 Checkpoint。</li>
</ul></div></div></div>  </div>
<div id="node-28" class="section-5">
  <h1 class="book-heading">CameraTrigger 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login8b64.html?destination=node/28%23comment-form">登录</a>或<a href="../../../user/register8b64.html?destination=node/28%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：CameraTrigger（相机触发器），会在到达这一点（或这一范围）时改变缩放级别。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定相机触发点的坐标。</td>
</tr><tr><td class="nowrap">Radius</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。使方块的坐标与相机触发器坐标之差的绝对值小于此值时也认为是触发了相机触发器。（换言之可以使相机触发点变成一个矩形）</td>
</tr><tr><td class="nowrap">Zoom</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为-1。指定触发后的缩放级别，即相机离方块的距离，从近到远分别是6、5、1、2、3、4。填写为负数或不填写表示启动高级相机模式。请注意启动高级相机模式后必须填写@Duration，否则无效！填写其他值同样无效。</td>
</tr><tr><td class="nowrap">Angle</td>
<td class="nowrap">16位整数</td>
<td>可选。指定触发后相机的观察角度。22 为默认观察角度，大于等于 0 时使用透视投影，且该值越大观察角度越低，大于 184 时的效果与等于 184 相同；小于 0 时使用平行投影，其数值无实际效果。请注意 @Angle 在正负交换时会闪一下。填写后 @FieldOfView 无效。</td>
</tr><tr><td class="nowrap">FieldOfView</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为 22。指定触发后的视野大小。大于 184 时的效果与等于 184 相同；小于 0 时视角会变得极小，只能看到方块，其数值无实际效果。</td>
</tr><tr><td class="nowrap">StartDelay</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。指定触发到开始移动相机之间间隔的帧（1/22 秒）数。仅在高级相机模式下可用。</td>
</tr><tr><td class="nowrap">Duration</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。指定相机从当前状态转换到目标状态所花费的帧（1/22 秒）数。仅在高级相机模式下可用。</td>
</tr><tr><td class="nowrap">SingleUse</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为 False。指定是否只能触发一次。仅在高级相机模式下可用。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;CameraTrigger Position="4,9,1" Radius="1,2" Zoom="1" /&gt;</pre><p>请注意：</p>
<ol><li>在 @Zoom, @Angle, @FieldOfView 三个属性中只能填写一个，在两个及以上被填写有效值的情况下，只有排在最前面的会生效。若三个都不填写则表示重置 @Angle 和 @FieldOfView 到默认值 22。</li>
<li>@FieldOfView 与 @Angle 在任何情况下都不能并存。如在设置 @FieldOfView 时 @Angle 会被回到 22。反之亦然。</li>
</ol></div></div></div>  <div id="node-139" class="section-6">
  <h1 class="book-heading">高级相机模式</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb875.html?destination=node/139%23comment-form">登录</a>或<a href="../../../user/registerb875.html?destination=node/139%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　高级相机模式是 Two Tribes 添加的功能，之所以称之为高级是因为 mobigame 的 EDGE 是 <a href="http://zh.wikipedia.org/wiki/偽三維">2.5D</a>，其中并没有也很难有这样的实现。实际上在真正的三维绘图中高级相机模式中的一些概念都是很常见的。<br />
　　注意：高级相机模式的动画即使在暂停时也会继续播放！</p>
<h3>效果演示</h3>
<p><embed src="http://www.tudou.com/v/VmstqkRaVJg/&amp;resourceId=112031677_05_02_99&amp;tid=0/v.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="opaque" width="480" height="400"></embed></p>
<h3>透视投影</h3>
<p><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-1.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-1.jpg~original" /></a><br />
　　透视投影的原理类似于<a href="http://zh.wikipedia.org/wiki/小孔成像">小孔成像</a>（区别在于物和像在孔的同一侧），由于它和眼球的成像（凸透镜成像）效果类似，符合远大近小的规律，因此使用透视投影可以更好地模拟出真实的 3D 世界在眼球中的影像。<br />
　　简单来说透视投影原理就是：在相机前方选择一个平面使其与观测方向垂直，则在 3D 世界中的任意一点在该平面上的投影点为该点与视点的连线与平面的交点。如下图所示。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-2.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-2.jpg~original" /></a><br />
　　接下来我们谈谈视野（Field of View，常简写为 FoV）大小，视野大小是透视投影特有的。上面我们提到的平面大小是无限的，而人眼观察到的图像大小是有限的，同样地游戏的屏幕大小也是有限的，因此我们能看到的部分与视点连线的夹角大小就称为视野大小，如下图所示。通常情况下视野大小的单位为°或弧度，可惜我们并不知道它在 EDGE 中的单位。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-3.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-3.jpg~original" /></a><br />
　　视野（Field of View）与缩放级别（Zoom Level）都是数字越小看得越少，数字越大看得越多但是区别在于缩放级别指的是相机与被观察物体之间的距离，而且小地图的大小会随之改变；而视野则是相机可观察到的角度范围大小，而且小地图的大小不会随之改变。由于人眼的视野有限，如果视野过大就会显得不自然。在上面的视频中你会注意到当 @FieldOfView=180 时远处（或者说四周）的物体看起来不太自然。<br />
　　最后我们再谈谈观察角度，如下图所示（图中的 @Angle=0 应改为 @Angle=22 ），当 @Angle=22 时观察角度与地面的夹角为 45°，@Angle 增大时夹角减小。同样我们并不知道这里的单位是什么。<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/advanced-camera-mode-angle.png~original" /></p>
<h3>平行投影</h3>
<p>　　平行投影与太阳光（由于太阳距离很远可近似看成是平行光）投在若干个 3D 物体上在一个平面（如地面）上留下的影子的效果更加接近。平行投影中由于没有视点，也就没有视野大小的概念。不过应该可以通过调整裁剪的平面大小来达到与视野类似的效果，平行投影的观察角度可以靠平面的倾斜角度和投影方向调整，不过反正游戏中也没给你这功能，就不研究了。<br />
　　在太阳光下飞机在空中打在地面上的影子大小和停在地面上的影子大小差别不大，在平行投影中也是这样，不再是远大近小。东西不论远近，大的投影出来就是大的，小的投影出来就是小的。P.S. 由于在 PC 版的游戏中平行投影效果并不好，我个人猜测 Two Tribes 仿照了太阳光的原理，把相机距离拉得很远，而把视野大小弄得极小来达到平行投影的效果。<br />
　　此外你可以注意到在平行投影中各条平行线在投影后仍然是平行的，但是在透视投影中则不一定。</p>
</div></div></div>  </div>
</div>
<div id="node-30" class="section-5">
  <h1 class="book-heading">Prism 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login74ec.html?destination=node/30%23comment-form">登录</a>或<a href="../../../user/register74ec.html?destination=node/30%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/prism.png~original" /><br />
说明：Prism（棱柱），取得 S(+) 的必经之路，吃到后可在约20步内加速的神奇玩意儿。<br />
属性列表：
<table><thead><tr><th class="nowrap">属性名</th>
            <th class="nowrap">数据类型</th>
            <th>备注</th>
        </tr></thead><tbody><tr><td class="nowrap">Position</td>
            <td class="nowrap">三维坐标</td>
            <td>必填。指定棱柱的位置。</td>
        </tr><tr><td class="nowrap">Energy</td>
            <td class="nowrap">8位自然数</td>
            <td>可选，默认为1。<a href="../../../developers/file-formats/level-bin/deprecated.html">已过时</a>。</td>
        </tr></tbody></table><pre title="样例" class="brush: xml">&lt;Prism Position="6,22,1" /&gt;</pre></div></div></div>  </div>
<div id="node-32" class="section-5">
  <h1 class="book-heading">Button 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginbde0.html?destination=node/32%23comment-form">登录</a>或<a href="../../../user/registerbde0.html?destination=node/32%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/button.png~original" /><br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/button_ghosted.png~original" /><br />
说明：Button（按钮），表示一个可以被方块按下的按钮。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">ID</td>
<td class="nowrap">ID</td>
<td>可选。填写后可用于被@AffectButtons引用。</td>
</tr><tr><td class="nowrap">Visible</td>
<td class="nowrap">可空布尔型</td>
<td>可选，默认为True。指定按钮是否可见。如果设置为 Null，则该按钮将是半透明的。只有在设置为 True 时按下按钮才有声效。</td>
</tr><tr><td class="nowrap">DisableCount</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。此属性指定了该按钮在这种情况下总共可以被禁用多少次，其应用可见 rodeo 一关。如果一个按钮已经被禁用 @DisableCount 次及以上时任何其他按钮企图再次启用该按钮都会失败。如果 @DisableCount 为 0，该按钮可以被不断地启用。</td>
</tr><tr><td class="nowrap">Mode</td>
<td class="nowrap">特殊</td>
<td>可选，默认为StayDown。若按钮在ButtonSequence中则此项无效。按钮有按下（禁用）或弹起（启用）两种状态。StayDown表示按钮在没有被启动的情况下只能被按下一次，离开该按钮后保持被按下（禁用）的状态。StayUp表示按钮可以被按下多次。Toggle表示一旦方块离开按钮该按钮就会被弹起，同时受影响的移动方块将恢复原位。请注意按下非 @Mode=StayDown 的按钮不算禁用按钮！</td>
</tr><tr><td class="nowrap">MovingPlatformID</td>
<td class="nowrap">ID</td>
<td>可选，默认为使用@Position的坐标。指定与按钮保持相对静止的移动方块的ID。</td>
</tr><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>可选，默认为0,0,0。指定按钮在不与任何移动方块绑定的情况下的坐标。</td>
</tr><tr><td class="nowrap">AffectMovingPlatforms</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。若按钮在ButtonSequence中则此项无效。指定一堆要影响的移动方块ID。若数据为0表示遍历所有的路点，否则表示遍历数据指定个路点。</td>
</tr><tr><td class="nowrap">AffectBumpers</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。若按钮在ButtonSequence中则此项无效。指定一堆要影响的撞击器ID，撞击器被影响后将会切换启用/禁用状态。</td>
</tr><tr><td class="nowrap">TriggerAchievements</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。若按钮在ButtonSequence中则此项无效。指定一堆要触发的成就ID。数据表示部分成就使用的元数据。（仅用于 Snowblind 成就）</td>
</tr><tr><td class="nowrap">AffectButtons</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。若按钮在ButtonSequence中则此项无效。指定一堆要影响的按钮ID。设置此项后被引用的按钮将在关卡开始时被禁用，在按下此按钮时目标按钮的启用/禁用状态将被切换。你可以通过将数据设为1来表示默认启用目标按钮。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Button ID="Button2" Visible="False" Position="11,11,1"
        AffectButtons="Button1" /&gt;</pre></div></div></div>  </div>
<div id="node-33" class="section-5">
  <h1 class="book-heading">ButtonSequence 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login28ac.html?destination=node/33%23comment-form">登录</a>或<a href="../../../user/register28ac.html?destination=node/33%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：ButtonSequence（按钮序列），表示一堆可以被方块按下的按钮。在全部按下后可以触发一些东西，并播放声效。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">SequenceInOrder</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为False。指定是否强制按钮序列要用指定的顺序按下。</td>
</tr><tr><td class="nowrap">AffectMovingPlatforms</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。指定一堆要影响的移动方块ID。若数据为0表示遍历所有的路点，否则表示遍历数据指定个路点。</td>
</tr><tr><td class="nowrap">AffectBumpers</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。指定一堆要影响的撞击器ID，撞击器被影响后将会切换启用/禁用状态。</td>
</tr><tr><td class="nowrap">TriggerAchievements</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。指定一堆要触发的成就ID。数据表示部分成就使用的元数据。（仅用于 Snowblind 成就）</td>
</tr><tr><td class="nowrap">AffectButtons</td>
<td class="nowrap">带数据的ID列表</td>
<td>可选。指定一堆要影响的按钮ID。设置此项后被引用的按钮将在关卡开始时被禁用，在按下此按钮时目标按钮的启用/禁用状态将被切换。你可以通过将数据设为1来表示默认启用目标按钮。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;ButtonSequence SequenceInOrder="True"
                AffectMovingPlatforms="Block10,Block11,Block12"
                AffectBumpers="Bumper1,Bumper2,Bumper3,Bumper4"&gt;
  ...
&lt;/ButtonSequence&gt;</pre><p>子元素列表：<br /><a href="../../../Button.html">Button</a>（至少2个）</p>
</div></div></div>  </div>
<div id="node-34" class="section-5">
  <h1 class="book-heading">OtherCube 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logine2ae.html?destination=node/34%23comment-form">登录</a>或<a href="../../../user/registere2ae.html?destination=node/34%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：OtherCube（提示方块），表示一个提示你如何过关的方块。触发后离开触发点，提示方块就会消失。<a href="../../../developers/file-formats/level-bin/cubes.html">它可以和关卡中的部分元素交互。</a></p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">PositionTrigger</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定“?”显示的坐标位置，方块到达该位置时会激活提示方块。请注意提示方块可以激活多次！</td>
</tr><tr><td class="nowrap">MovingBlockSync</td>
<td class="nowrap">ID</td>
<td>可选。指定要与其同步的MovingPlatform的ID。</td>
</tr><tr><td class="nowrap">PositionCube</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定提示方块的初始位置。</td>
</tr><tr><td class="nowrap">Radius</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。使方块的坐标与触发点坐标之差的绝对值小于等于此值时也认为是到达了触发点。（换言之可以使触发点变成一个矩形）</td>
</tr><tr><td class="nowrap">Mode</td>
<td class="nowrap">特殊</td>
<td>可选，默认为AutoHide。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。填写MoveAway后被触发的位置下方的方块会开始变色。（<a href="http://www.tudou.com/programs/view/QUHjSYtGDZ8/">wire的视频演示</a>）填写Hole后被触发位置下方会变得什么都没有，下落到洞中后会自动瞬移到洞口并不再下落。（<a href="http://www.tudou.com/programs/view/96D37ut4YVM/">furious bot的视频演示</a>）选择AutoHide后离开该方块时提示方块会消失，否则不会消失。MoveAway只能生效一次，之后会变成AutoHide模式。Hole也只能生效一次，之后再进入不会再次下落，也不会触发提示方块。P.S. 原理是在触发位置放一个MovingPlatform和一个Button，并在方块移动到触发位置时将方块移开，来避免方块离开时提示方块消失。</td>
</tr><tr><td class="nowrap">MoveDirection</td>
<td class="nowrap">二维向量</td>
<td>可选，在AutoHide模式下默认为0,0,0，在MoveAway模式下为0,-1,0，在Hole模式下为0,0,1。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。在设置了MovingPlatform/Waypoint的情况下此属性将被忽略。该属性在AutoHide模式下此属性无意义，在其他模式下此属性表示触发方块的移动方向向量。在Hole模式中实际触发位置以及MovingPlatform的初始位置为原来触发位置减去该向量的值。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;OtherCube PositionTrigger="70,27,1" MovingBlockSync="Block29"
           PositionCube="69,25,1"&gt;
  ...
&lt;/OtherCube&gt;</pre><p>子元素列表：<br /><a href="../../../MovingPlatform.html">MovingPlatform 元素</a>（仅在非AutoHide模式下可用，@AutoStart与@Looped的默认值为False，在没有子元素的情况下会有两个路点，即从@PositionTrigger开始向@MoveDirection移动，@TravelTime在MoveAway模式下为32000，在Hole模式下为1）<br /><a href="../../../Button.html">Button 元素</a>（仅在非AutoHide模式下可用，@Position默认值为@PositionTrigger，@Visible默认值为False，@AffectMovingPlatforms会自动添加与其对应的MovingPlatform）<br />
按键事件元素</p>
</div></div></div>  <div id="node-35" class="section-6">
  <h1 class="book-heading">按键事件元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login01c6.html?destination=node/35%23comment-form">登录</a>或<a href="../../../user/register01c6.html?destination=node/35%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：按键事件元素，表示一个方块按键的事件。元素名前半部分是West, East, North, South中的一个，表示移动的方向；元素名后半部分是Up或Down，表示是按下这个方向的键还是放开。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">TimeOffset</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。表示从方块被触发到按键间隔的帧（1/22秒）数。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;WestDown TimeOffset="14" /&gt;</pre></div></div></div>  </div>
</div>
<div id="node-36" class="section-5">
  <h1 class="book-heading">DarkCube 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login05bc.html?destination=node/36%23comment-form">登录</a>或<a href="../../../user/register05bc.html?destination=node/36%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded">说明：DarkCube（黑暗方块），表示一个提示你如何过关或阻碍你过关的方块。触发后离开触发点，黑暗方块也不会消失。<a href="../../../developers/file-formats/level-bin/cubes.html">它可以和关卡中的部分元素交互。</a><br />
属性列表：
<table><thead><tr><th class="nowrap">属性名</th>
            <th class="nowrap">数据类型</th>
            <th>备注</th>
        </tr></thead><tbody><tr><td class="nowrap">PositionTrigger</td>
            <td class="nowrap">三维坐标</td>
            <td>必填。方块到达该位置时会激活黑暗方块。请注意黑暗方块只会被激活一次！</td>
        </tr><tr><td class="nowrap">Radius</td>
            <td class="nowrap">二维向量</td>
            <td>可选，默认为0,0。使方块的坐标与触发点坐标之差的绝对值小于此值时也认为是到达了触发点。（换言之可以使触发点变成一个矩形）</td>
        </tr><tr><td class="nowrap">MovingBlockSync</td>
            <td class="nowrap">ID</td>
            <td>可选。指定要与其同步的MovingPlatform的ID。</td>
        </tr><tr><td class="nowrap">PositionCube</td>
            <td class="nowrap">三维坐标</td>
            <td>必填。指定黑暗方块的初始位置。</td>
        </tr></tbody></table><pre title="样例" class="brush: xml">&lt;DarkCube PositionTrigger="17,19,1" Radius="1,0" PositionCube="17,9,1"&gt;
  ...
&lt;/DarkCube&gt;</pre>
子元素列表：<a href="../../../developers/file-formats/level-bin/Level/OtherCube/key-event.html">按键事件元素</a></div></div></div>  </div>
<div id="node-37" class="section-5">
  <h1 class="book-heading">ResizerGrow &amp; ResizerShrink 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login3123.html?destination=node/37%23comment-form">登录</a>或<a href="../../../user/register3123.html?destination=node/37%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/resizer.png~original" /><br />
说明：ResizerGrow（方块放大器） &amp; ResizerShrink（方块缩小器），表示一个可以使方块放大/缩小的按钮。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定方块尺寸调整器的位置，游戏会自动在该点下方添加一个静态方块。Z 坐标 ＞ 关卡高度 或 Z 坐标 ≤ 0 会导致游戏崩溃，X 坐标 ≥ 关卡宽度 或 X 坐标 ＜ 0 或 Y 坐标 ≥ 关卡长度 或 Y 坐标 ＜ 0 会导致该位置虽然在游戏中可见但没有实际效果，也不会添加静态方块，并有几率导致游戏崩溃。若与 <a href="../../../developers/file-formats/level-bin/Level.html">/Level</a>/@ExitPoint 重合，关卡终点将被腐蚀。</td>
</tr><tr><td class="nowrap">Visible</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为True。指定方块尺寸调整器在关卡中是否可见。</td>
</tr><tr><td class="nowrap">Radius</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。使方块的坐标与方块尺寸调整器坐标之差的绝对值小于等于此值时也缩放方块。（换言之可以使方块尺寸调整器变成一个矩形）</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;ResizerShrink Position="14,2,3" Visible="False" /&gt;</pre></div></div></div>  </div>
</div>
<div id="node-85" class="section-4">
  <h1 class="book-heading">Z 轴</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login3c30.html?destination=node/85%23comment-form">登录</a>或<a href="../../../user/register3c30.html?destination=node/85%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Z 轴是 X、Y、Z 三轴中内容最丰富的。<br />
通常情况下 Z=0 上的静态方块只有上半个，在 Z=0-3 之间静态方块、移动方块与撞击器东面、南面与上面的颜色（其中上面的颜色变化不明显，如果是用模型的静态方块则还会有深浅相间的效果）会随着高度升高而变浅，而 Z&gt;3 部分的颜色没有变化。如下图 higher 一关中所示。<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/z-higher.png~original" /><br />
当 Z&lt;0 时，相机不会再跟随玩家方块的移动而移动，但是小地图还会随着玩家方块的移动而移动，如下图 black hole 一关中所示。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/z-black-hole.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/z-black-hole.png~original" /></a><br />
只要玩家方块移动到 Z&lt;0 后 dead 计数器就会加 1，但是只有当 Z&lt;-20 时才被视为死亡，下图是 Z 刚刚小于 -20 的一瞬间，在之后的一帧它立即被送回存档点。<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/z-20.png~original" /></p>
</div></div></div>  </div>
<div id="node-204" class="section-4">
  <h1 class="book-heading">关卡地图</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina42f.html?destination=node/204%23comment-form">登录</a>或<a href="../../../user/registera42f.html?destination=node/204%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　关卡地图就是那一坨 .{z}.png 文件，每一个文件都表示所在的 z 坐标那一层上的地图。</p>
<h3>快速入门</h3>
<p>　　第 0 层有方块的使用 #FFFF80 [rgb(255,255,128)] 填充，其他层使用 #FFFFFF [rgb(255,255,255)]，剩下没有方块的使用 #000000 [rgb(0,0,0)] 填充即可。<br />
　　在生成模型没有被 <a href="../../../developers/file-formats/level-bin/Level.html">Level/@ModelTheme</a> 禁用的情况下编译关卡可以得到一个 <a href="../../../developers/file-formats/asset/eso.html">.eso 模型</a>，将其放在 models 文件夹即可。</p>
<h3>特别的技巧</h3>
<h4>R 通道（方块模式）</h4>
<table><tr><td class="nowrap">255 (0xFF)</td>
<td>方块模式。玩家方块可以与这个方块碰撞。具体值没有影响。</td>
</tr><tr><td class="nowrap">224-254 (0xE0 - 0xFE)</td>
<td>静态发光移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">192-223 (0xC0 - 0xDF)</td>
<td>静态发光半移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">160-191 (0xA0 - 0xBF)</td>
<td>静态移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">128-159 (0x80 - 0x9F)</td>
<td>静态半移动方块模式。具体值没有影响。</td>
</tr><tr><td class="nowrap">0-127 (0x00 - 0x7F)</td>
<td>无方块模式。玩家方块不会与这个方块碰撞。</td>
</tr></table><p>移动方块模式下没有静态方块，因为它使用不移动的<a href="../../../developers/file-formats/level-bin/Level/MovingPlatform.html">移动方块</a>来代替。半移动方块即只有上半格，对应 @FullBlock=False。发光移动方块即看起来像在移动，就像在 crystal mine 一关中一样，这也是通常的移动方块使用方式。这种模式需要注意：</p>
<ol><li>静态方块在移动版中会有具体的形状（因为移动版不支持模型），在 Z=0 处只有上半层，其他地方都是完整的方块，但在 PC 版中只是让玩家方块碰撞用，在关卡中没有具体的形状，你需要使用模型来使方块具有外观；</li>
<li>不推荐生成模型，会出现重叠的现象；（如果你实在想得不行，那好吧，我想应该还是可以的）</li>
<li>即使移动方块不在移动，游戏也会将其当作移动方块，因此一些机关（如在移动方块上 EDGE 时很可能会停在一块上而不会被另一块捡起）可能会失效，也可能会出现穿墙 BUG；</li>
<li>地板颜色为同一种颜色，而不是棋盘式的深浅相间；</li>
<li>不同的方格之间有很明显的线条分隔。</li>
</ol><h4>G 通道（模型主题）</h4>
<table><tr><td class="nowrap">192-255 (0xC0 - 0xFF)</td>
<td>默认主题，即 Level/@ModelTheme。具体值没有影响。</td>
</tr><tr><td class="nowrap">128-191 (0x80 - 0xBF)</td>
<td>使用除了上面一个以外最亮（即数字最小）的主题。具体值没有影响。</td>
</tr><tr><td class="nowrap">64-127 (0x40 - 0x7F)</td>
<td>使用除了上面两个以外较亮（即数字较小）的主题。具体值没有影响。</td>
</tr><tr><td class="nowrap">0-63 (0x00 - 0x3F)</td>
<td>还剩最后一个主题当然就归它啦。具体值没有影响。</td>
</tr></table><h4>B 通道（模型高度）</h4>
<table><tr><td class="nowrap">255 (0xFF)</td>
<td>生成一个完整的方块模型。</td>
</tr><tr><td class="nowrap">2-254 (0x02 - 0xFE)</td>
<td>生成只有上面 1/254 - 253/254 个方块的模型。</td>
</tr><tr><td class="nowrap">1 (0x01)</td>
<td>生成只有上面 0% 的方块模型。（即只有最顶上一层）</td>
</tr><tr><td class="nowrap">0 (0x00)</td>
<td>不为此方块生成模型。</td>
</tr></table><p>常用高度：<a href="../../../developers/file-formats/level-bin/Level/FallingPlatform.html">可掉落平台</a> 13.2893%, 35, 0x23；半格 50%, 128, 0x80。</p>
<h3>更多信息</h3>
<p>由 EdgeTool 生成的模型与标准关卡的模型还是存在一些细微的区别：</p>
<ol><li>生成的 .eso 文件在生成方块的东面和南面时会比标准关卡中的 .eso 文件中多生成一些<a href="../../../developers/file-formats/asset/eso/Models/Model/Triangle.html">三角形</a>，这将导致编译出的文件大小增大 50%，并在三角形数量极多的情况下拖慢游戏在超级低端设备上的流畅运行。</li>
<li>标准关卡中的 .eso 文件在终点处有一个下凹的装置，但是既然游戏中看不到，生成的 .eso 文件中去掉了这个冗余的东西。</li>
<li>由于生成的 .eso 文件使用的是游戏自带（或 <a href="../../../mods/edge-epic.html">EDGE Epic</a> 中）的 <a href="../../../developers/file-formats/asset/ema.html">.ema 材料</a>以及 .eso 模型（见附表），如果你的关卡太大可能会导致超过背景的大小而使背景没有装饰物。（不过这个问题并不是很大）</li>
</ol><p>　　想知道更多关于生成的 .eso 文件的技术细节，请查看<a href="../../../developers/file-formats/asset/eso/level-model.html">这篇文章</a>。如果你不嫌麻烦，你同样可以在阅读这篇文章后修改或自己制作 .eso 模型来打造关卡的外观（包括往里面加几张图片之类）。</p>
<p>附主题所对应使用的模型列表：</p>
<table><thead><tr><th>主题索引</th>
<th>Models/@NodeChild (背景)</th>
<th>Models/Model/@MaterialAsset (方块)</th>
<th>源关卡 ID</th>
</tr></thead><tbody><tr><td>0</td>
<td>67228D77050DB82A</td>
<td>2F2CC05D050DB82A</td>
<td>level551</td>
</tr><tr><td>1</td>
<td>1DE2AE87050DB82A</td>
<td>55ECE3AD050DB82A</td>
<td>level512</td>
</tr><tr><td>2</td>
<td>8A7DBFAE050DB82A</td>
<td>C273F284050DB82A</td>
<td>level532</td>
</tr><tr><td>3</td>
<td>451F8839050DB82A</td>
<td>0D11C513050DB82A</td>
<td>level545</td>
</tr></tbody></table></div></div></div>  </div>
<div id="node-87" class="section-4">
  <h1 class="book-heading">已过时</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind6f4.html?destination=node/87%23comment-form">登录</a>或<a href="../../../user/registerd6f4.html?destination=node/87%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>在 Level 元素中有部分子元素/属性已经过时，这意味着它们曾经存在但是由于一些神奇的原因它们被删除了。Will Kirkby 通过推特询问到了它们的存在以及它们过去的含义。为了保持兼容性，这些空出的位置很可能在将来也不会被添加/替换成别的新功能。</p>
</div></div></div>  </div>
<div id="node-79" class="section-4">
  <h1 class="book-heading">方块</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login7c34.html?destination=node/79%23comment-form">登录</a>或<a href="../../../user/register7c34.html?destination=node/79%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>在 EDGE 中总共有四种可以翻滚的方块：</p>
<ol><li>玩家方块（也称彩虹方块，rainbow cube），即你操控的方块；<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/rainbow-cube.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/rainbow-cube.png~original" /></a></li>
<li><a href="../../../developers/file-formats/level-bin/Level/OtherCube.html">提示方块</a>（other cube / guide cube），在玩家方块碰到“?”方块的上方时出现，提示玩家如何过关的方块；<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/other-cube.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/other-cube.png~original" /></a></li>
<li><a href="../../../developers/file-formats/level-bin/Level/DarkCube.html">黑暗方块</a>（dark cube），在玩家方块走到特定位置时出现，提示玩家如何过关或阻碍玩家过关的方块。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/dark-cube.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/dark-cube.png~original" /></a></li>
<li>幽灵方块（ghost cube），仅在Android/iOS版出现，无法被开发者控制。它在该关的所有<a href="../../../developers/file-formats/level-bin/Level/Prism.html">棱柱</a>吃完后出现，外观与PC版中的提示方块相同，它在关卡中的移动方式和你的最佳过关时间的移动方式相同，因此能为刷记录提供一定的帮助，不过有时候也很恼人，在options里可将ghost改为off来关闭显示。</li>
</ol><p>去除最后一种完全不与关卡其他元素交互的方块，剩下三种方块与关卡其他元素交互的方式大致相同，但也有微小的区别。</p>
<table><tr><td>交互类型</td>
<td>玩家方块</td>
<td>提示方块</td>
<td>黑暗方块</td>
</tr><tr><td>显示 EDGE 时间</td>
<td>√</td>
<td>×</td>
<td>黑色</td>
</tr><tr><td>被挤碎</td>
<td>√</td>
<td>挤碎时掉落</td>
<td>挤碎时掉落</td>
</tr><tr><td>到达终点过关</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr><tr><td>吃<a href="../../../developers/file-formats/level-bin/Level/Prism.html">棱柱</a></td>
<td>√</td>
<td>×</td>
<td>×</td>
</tr><tr><td>按非 <a href="../../../developers/file-formats/level-bin/Level/Button.html">@Mode=Toggle 的按钮</a></td>
<td>√</td>
<td>×</td>
<td>√</td>
</tr><tr><td>压塌<a href="../../../developers/file-formats/level-bin/Level/FallingPlatform.html">可掉落平台</a></td>
<td>√</td>
<td>×</td>
<td>√</td>
</tr><tr><td>触发<a href="../../../developers/file-formats/level-bin/Level/CameraTrigger.html">相机触发器</a></td>
<td>√</td>
<td>×</td>
<td>×</td>
</tr><tr><td>触发<a href="../../../developers/file-formats/level-bin/Level/Checkpoint.html">存档点</a></td>
<td>√</td>
<td>×</td>
<td>×</td>
</tr><tr><td>保持向某方向滚动以加速</td>
<td>速度有上限</td>
<td>√</td>
<td>√</td>
</tr><tr><td>与关卡中其他元素交互</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr></table></div></div></div>  </div>
<div id="node-12" class="section-4">
  <h1 class="book-heading">测试关卡</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind781.html?destination=node/12%23comment-form">登录</a>或<a href="../../../user/registerd781.html?destination=node/12%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>edgemod 格式很适合玩家安装，不过如果你要用它测试关卡，那就像是在地狱中一样麻烦！<br />
测试关卡时你没有必要做成一个 mod 再安装，你可以直接修改 levels/mapping.xml，在 bonus 或 extended 元素的结尾手动添加一个 level 元素，填写相应属性，再将你的新关放到合适的位置，然后启动游戏即可。<br />
当你发现你的新关有任何地方需要改进，修改、重新编译后只需将其拖动到 levels 文件夹的对应位置即可！你甚至无需重启游戏，只需在关卡中 retry 即可测试新版本！但是这样做新版本的关卡ID、关卡名、等级时间、棱柱数量在游戏中不会更新。<br />
请注意在你测试完关卡后应该将其删除，并撤销 mapping.xml 中的修改，否则可能会导致安装失败。<br />
如果你的关卡已经编译成 edgemod 且希望修改，你可以安装这个 mod 后直接在 levels 文件夹中修改对应的 bin 文件并进行测试，修改完毕后将它压缩到你的 edgemod 中即可。</p>
</div></div></div>  </div>
<div id="node-201" class="section-4">
  <h1 class="book-heading">移动版关卡</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login140b.html?destination=node/201%23comment-form">登录</a>或<a href="../../../user/register140b.html?destination=node/201%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>EDGE 的<a href="../../../developers/file-formats/level-bin.html">关卡文件</a>在移动版和 PC 版上基本没有什么区别，唯一的区别就是 <a href="../../../developers/file-formats/level-bin/Level.html">/Level/@TimeThresholds</a> 的单位。PC 版是以秒为单位，移动版是以厘秒 (0.01s) 为单位（除 iOS/安卓版 EDGE 的 bonus levels 外）。据 <a href="../../../users/wegfan.html">@WEGFan</a> 说在高级相机模式上还有一些区别。<br />
使用 EdgeTool 工具箱中的转换手机版关卡文件工具可以方便地批量转换关卡。</p>
</div></div></div>  </div>
</div>
<div id="node-121" class="section-3">
  <h1 class="book-heading">.nut 脚本</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginfa96.html?destination=node/121%23comment-form">登录</a>或<a href="../../../user/registerfa96.html?destination=node/121%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.nut 脚本文件放在 effects/edge_effects 中，你可以用任何文本编辑器打开它并对它进行修改，它们负责在特定事件被触发时对粒子系统进行操作，产生一些粒子特效。<br />
游戏自带三个脚本，它们分别是：</p>
<ul><li>cube_crushed.nut 会在方块被压碎时触发；</li>
<li>level_finished.nut 会在方块到达 <a href="../../../developers/file-formats/level-bin/Level.html">/Level</a>/@ExitPoint 时触发；</li>
<li>checkpoint_saved.nut 已过时，不再使用。</li>
</ul><p>因此实际上你只能修改两个脚本。</p>
</div></div></div>  <div id="node-133" class="section-4">
  <h1 class="book-heading">SPARK 参考指南</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina607.html?destination=node/133%23comment-form">登录</a>或<a href="../../../user/registera607.html?destination=node/133%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Two Tribes 为 EDGE 使用了 SPARK 引擎（版本号至少为 1.05.00）来处理粒子特效，你可以<a href="http://sourceforge.net/projects/sparkengine/">点击这里</a>获得 SPARK 的源码、文档与 demo 来了解如何修改 .nut 脚本。<br />
当然如果你实在懒得去下载，Mygod 工作室™ 已经将它的文档上传到了 EDGE Fans，<a href="../../../spark/index.html">你只需点击这里</a>就可以浏览文档。<br />
除了下一篇文档介绍的 .nut 的入口点函数以外，所有的类、方法都可以在文档中找到。不幸的是似乎其中很多功能都因为不明原因被删去或是被简化了。下面将介绍这些问题。</p>
</div></div></div>  <div id="node-135" class="section-5">
  <h1 class="book-heading">Vector3D 类</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb836.html?destination=node/135%23comment-form">登录</a>或<a href="../../../user/registerb836.html?destination=node/135%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><code>Vector3D</code> 类在游戏中已经被移除了，因此如果你想要调用像 <a href="../../../spark/class_s_p_k_1_1_linear_force.html#a2c4b1d32600c5d1d8e7ff781dad89737"><code>LinearForce.setForce (const Vector3D &amp;force)</code></a> 这样的方法就需要这样写：</p>
<pre class="brush: jscript">force.setForce(x, y, z);</pre></div></div></div>  </div>
</div>
<div id="node-132" class="section-4">
  <h1 class="book-heading">Squirrel 语言</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login44ca.html?destination=node/132%23comment-form">登录</a>或<a href="../../../user/register44ca.html?destination=node/132%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>脚本使用的是 <a href="http://www.squirrel-lang.org/">Squirrel 语言</a>，<a href="http://en.wikipedia.org/wiki/Squirrel_(programming_language)">你可以在维基百科上看到相关信息</a>。<br />
你可以在官网<a href="http://www.squirrel-lang.org/doc/squirrel3.html">查看参考手册</a>与<a href="http://www.squirrel-lang.org/doc/sqstdlib3.html">标准库手册</a>。<br />
如果你看不懂英文，网上也有很多中文的教程。</p>
</div></div></div>  </div>
<div id="node-122" class="section-4">
  <h1 class="book-heading">setup() 函数</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina664.html?destination=node/122%23comment-form">登录</a>或<a href="../../../user/registera664.html?destination=node/122%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><h3>定义和用法</h3>
<p>setup() 函数用于配置粒子系统。</p>
<h3>语法</h3>
<pre class="brush: jscript">setup(particleSystem)</pre><table><thead><tr><th>参数</th>
<th>描述</th>
</tr></thead><tbody><tr><td>particleSystem</td>
<td>必需。指定要配制的粒子系统。类型为 <a href="../../../spark/class_s_p_k_1_1_system.html">SPK::System</a>。</td>
</tr></tbody></table><h3>说明</h3>
<p>该函数是游戏调用 NUT 脚本时的入口点，通常无需手动调用，只需定义此函数。</p>
</div></div></div>  </div>
</div>
<div id="node-42" class="section-3">
  <h1 class="book-heading">.ogg 音乐</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind0a5.html?destination=node/42%23comment-form">登录</a>或<a href="../../../user/registerd0a5.html?destination=node/42%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.ogg 音乐文件存放在 music 文件夹中，幸运的是它们的格式就是正常的 .ogg，可以使用任何一款不垃圾的音乐播放器打开。</p>
</div></div></div>  </div>
<div id="node-143" class="section-3">
  <h1 class="book-heading">Binary JSON</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login8b4a.html?destination=node/143%23comment-form">登录</a>或<a href="../../../user/register8b4a.html?destination=node/143%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Binary JSON 文件主要出现在<a href="../../../edge/profile-location.html">存档文件夹</a>中，它的扩展名通常是 .ttlead, .ttsav 或 .bjson。<br />
它的文件格式如下。<br />
文件开始是一个以 null (0x00) 为终止的字符串，表示当前文件的类型，可以是以下值之一：</p>
<ul><li><code>TTSAV</code>：游戏存档。</li>
<li><code>TTLEAD</code>：排行榜数据。</li>
<li><code>HMD</code>：热图元数据。</li>
<li><code>HMP</code>：热图。</li>
</ul><p>在字符串之后是一个 32位整数，表示该文件的版本号，总是为 0x00000001。<br />
之后是一个 布尔型，仅在 local_savedata.ttsav 中设为 false。<br />
之后是一个 32位整数，表示压缩部分数据的大小。<br />
之后是一个 32位整数，压缩部分的 CRC32 校验码。<br />
最后是压缩部分数据，其大小和上面定义的压缩部分数据大小相同，压缩方式不明。（已排除 ZLib）</p>
</div></div></div>  <div id="node-144" class="section-4">
  <h1 class="book-heading">TTSAV 游戏存档</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logindb7d.html?destination=node/144%23comment-form">登录</a>或<a href="../../../user/registerdb7d.html?destination=node/144%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Mygod 工作室™ 使用了一些特殊的方式研究了一下，并提出存档格式可能长得像下面这样。</p>
<pre class="brush: jscript">{
    "levels": {
        "543": {
            "completed": true,          // completed
            "time": 12345,              // time
            "prismCount": 10,           // prism count
            "rank": "A"                 // rank
        }
    },
    "settings": {
        "musicVolume": 1.0,             // music volume setting
        "sfxVolume": 1.0,               // sfx volume setting
        "visualFxEnabled": true,        // visual FX enabled
        "fullScreen": false,            // full screen setting
        "altinput": false               // alternative input angle setting
    },
    "stats": {
        "edgeTick": 20,                 // edge tick statistic
        "gameBootCount": 10,            // game boot count statistic
        "cubeCrushCount": 5,            // cube crush count
        "lastPlayedLevelType": "bonus", // last played level type
        "lastPlayedLevelIndex": 12,     // last played level index statistics
        "oggMember": true,              // is Steam OGG member
        "achievements": {
            "winter": 6                 // winter achievement data
        }
    }
}</pre></div></div></div>  </div>
</div>
<div id="node-84" class="section-3">
  <h1 class="book-heading">audio 文件夹</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login969f.html?destination=node/84%23comment-form">登录</a>或<a href="../../../user/register969f.html?destination=node/84%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>audio 文件夹中存放了游戏中要使用的音效，它里面有三个文件：</p>
<ul><li>edge.xgs：音效引擎；</li>
<li>sfx.xsb：音效库；</li>
<li>sfx.xwb：波形库。</li>
</ul><p>EdgeTool 反编译这个文件可以得到 sfx 文件夹，里面有一大堆 .wav 音频，就是游戏中使用的全部音效，包括那个无聊的老是念关卡名的家伙的声音也在这里。<br />
你可以使用以下文件名：</p>
<ul><li>bumper：<a href="../../../developers/file-formats/level-bin/Level/Bumper.html">撞击器</a>撞到<a href="../../../developers/file-formats/level-bin/cubes.html">玩家方块</a>时播放的音效；</li>
<li>cube_explode：玩家方块被挤碎时播放的音效；</li>
<li>enlarger：方块碰到<a href="../../../developers/file-formats/level-bin/Level/resizer.html">方块放大器</a>时播放的音效；</li>
<li>finish：方块进入终点过关时播放的音效；</li>
<li>gameover：credits（游戏关于）滚动完毕后播放的语音 GAME OVER；</li>
<li>hologram_loop：提示方块活动期间播放的音效；</li>
<li>hologram_on-off：触发或离开<a href="../../../developers/file-formats/level-bin/Level/OtherCube.html">提示方块触发器</a>播放的音效；</li>
<li>levelsfx_{name_sfx}：进入关卡时播放 <a href="../../../developers/file-formats/mapping-xml.html">mapping.xml</a> 中 level/@name_sfx 指定的语音；</li>
<li>logo_splash：游戏开始时如果没有跳过动画，制作者 Logo 淡出，EDGE Logo 进入时播放的音效；</li>
<li>menu_back：在菜单中点击返回时播放的音效；</li>
<li>menu_confirm：在菜单中点击任意内容进入下一级菜单时播放的音效；</li>
<li>menu_confirm_final：在菜单中点击任意内容离开菜单时播放的音效；</li>
<li>menu_move：在菜单中移动光标时播放的音效；</li>
<li>pf：玩家方块被<a href="../../../developers/file-formats/level-bin/Level/MovingPlatform.html">移动</a>一格时播放的音效；</li>
<li>pff_amorce：<a href="../../../developers/file-formats/level-bin/Level/FallingPlatform.html">可掉落平台</a>被方块碾压时播放的音效；</li>
<li>pff_fall：<a href="../../../developers/file-formats/level-bin/Level/FallingPlatform.html">可掉落平台</a>掉落时发出的音效；</li>
<li>player_fall：玩家方块掉落时播放的音效；</li>
<li>player_step_0：玩家方块移动时播放的音效之一；</li>
<li>player_step_1：玩家方块移动时播放的音效之一；</li>
<li>player_step_2：玩家方块移动时播放的音效之一；</li>
<li>player_step_3：玩家方块移动时播放的音效之一；</li>
<li>player_step_4：玩家方块移动时播放的音效之一；</li>
<li>player_step_mini_0：玩家方块被<a href="../../../developers/file-formats/level-bin/Level/resizer.html">方块缩小器</a>缩小后移动时播放的音效之一；</li>
<li>player_step_mini_1：玩家方块被方块缩小器缩小后移动时播放的音效之一；</li>
<li>player_step_mini_2：玩家方块被方块缩小器缩小后移动时播放的音效之一；</li>
<li>player_step_mini_3：玩家方块被方块缩小器缩小后移动时播放的音效之一；</li>
<li>player_step_mini_4：玩家方块被方块缩小器缩小后移动时播放的音效之一；</li>
<li>prism：玩家方块吃到棱柱时播放的音效；</li>
<li>shrinker：方块碰到<a href="../../../developers/file-formats/level-bin/Level/resizer.html">方块缩小器</a>时发出的声音；</li>
<li>switch：方块按下 <a href="../../../developers/file-formats/level-bin/Level/Button.html">@Visible=True 的按钮</a>时播放的音效。</li>
</ul></div></div></div>  <div id="node-158" class="section-4">
  <h1 class="book-heading">制作语音</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login10af.html?destination=node/158%23comment-form">登录</a>或<a href="../../../user/register10af.html?destination=node/158%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>要制作和游戏中一模一样的语音，你需要下载一个又大又笨重的 FL Studio。<br /><a href="http://www.image-line.com/downloads/flstudiodownload.html">点这里下载最新 Demo 版</a>以及<a href="http://pan.baidu.com/share/link?shareid=2765596535&amp;uk=3104462449">破解用的 keygen（11.0.3 可用）</a>。安装方法略。</p>
<p>制作的过程和功能如下。如果过程中出现 Registration Failure 的错误，请导入<a href="http://downloads.image-line.com/olderflversions/speechengine.reg">这个注册表</a>后重启 FL Studio 再试。</p>
<ol><li>启动 FL Studio 或者点击 File - New。</li>
<li>点击 Channels - Add one - Speech synthesizer。</li>
<li>在 Text 下输入你要合成的文本，Personality 选择 Robotoid，Mode 选择 Normal，Rate 选择 150（或自己修改），Pitch 选择 F# 2，然后点击 Accept，在弹出的窗口中保存 .speech 文件。</li>
<li>点击 File - Export - Wave File...，选择要保存的 .wav 位置，然后点击 Start，稍候片刻生成便成功了。</li>
</ol></div></div></div>  </div>
<div id="node-154" class="section-4">
  <h1 class="book-heading">手动(反)编译</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginc84d.html?destination=node/154%23comment-form">登录</a>或<a href="../../../user/registerc84d.html?destination=node/154%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>虽然不推荐这么做（因为你弄出来的东西很可能最后导致 EdgeTool 不支持），但是这么做还是可行的，而且很可能可以通过这么做添加一些特殊的功能。要实现特殊功能，请自己对 XACT3 这个工具进行进一步研究。</p>
<h3>反编译</h3>
<p>P.S. <a href="https://copy.com/lPGUSbPlhTeV/Resources/edge-sfx.7z">点击这里下载已经制作完成的项目</a>并解压到 sfx 目录中来跳过反编译。</p>
<ol><li>新建一个 sfx 目录；</li>
<li>将 audio 文件夹中的三个文件复制到 sfx 文件夹中；</li>
<li>将 <a href="../../../edgetool.html">EdgeTool</a> 安装目录下 Resources/Tools 文件夹中的 unxwb.exe 移动到 sfx 文件夹中；</li>
<li>在该目录下打开命令提示符；</li>
<li>输入下面的命令行：<br /><pre>unxwb -b sfx.xsb OFFSET sfx.xwb</pre><p>其中 <code>OFFSET</code> 是 sfx.xsb 文件中第一个文件名的起始偏移量。你可以使用 WinHex 之类的十六进制编辑器打开 sfx.xsb，然后通过以下两种方式之一找到这个偏移量：</p>
<ul><li>前往偏移量 0x2A (42)，读出在该位置的 32位整数；</li>
<li>将文件滚到末尾，然后向上滚动直到找到一堆文件名的第一个，记下在该处的偏移量。</li>
</ul></li>
<li>删除从 audio 文件夹复制过来的三个文件与 unxwb.exe。</li>
</ol><h3>编译</h3>
<p>P.S. 在上一节中下载已经完成的项目的，跳过第 3-8 步，在 Microsoft Cross-Platform Audio Creation Tool 3 (XACT3) 点击 File - Open Project... 打开项目中的 edge.xap。<br />
没图看不懂？<a href="http://msdn.microsoft.com/zh-cn/library/bb203879(v=xnagamestudio.30).aspx">点击这里</a>看有图的！</p>
<ol><li>下载 <a href="../../../ed2k_/_file_en_xna_game_studio_4.0_refresh_x86.exe_42807560_7439919FDAB0AE3D4D94DD28FDC26C6A_/index.html">XNA Game Studio 4.0</a> 并安装；</li>
<li>启动 Microsoft Cross-Platform Audio Creation Tool 3 (XACT3)；</li>
<li>点击 File - New Project，在弹出的窗口中浏览到 sfx 目录，输入 edge.xap，保存；</li>
<li>点击 Wave Banks - New Wave Bank，输入 sfx，回车；</li>
<li>点击 Sound Banks - New Sound Bank，输入 sfx，回车；</li>
<li>将要导入的 .wav 文件拖动到 sfx (Wave Bank) 窗口中；</li>
<li>将 sfx (Wave Bank) 窗口中新导入的文件拖动到 sfx (Sound Bank) 窗口中左上角标有 Sound Name 的框中；</li>
<li>将标有 Sound Name 框中新导入的文件拖动到该窗口左下角那个标有 Cue Name 的框中；</li>
<li>如有别的文件要导入，重复第 6-8 步；</li>
<li>点击 File - Build...，在弹出窗口中点击 Finish；</li>
<li>现在 sfx 目录下的 Win 目录中就会有 audio 文件夹中的三个文件了，然后只需把它们复制到 audio 文件夹，覆盖已有文件即可！（记得备份）</li>
</ol></div></div></div>  </div>
</div>
<div id="node-63" class="section-3">
  <h1 class="book-heading">cos.bin</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login9ec6.html?destination=node/63%23comment-form">登录</a>或<a href="../../../user/register9ec6.html?destination=node/63%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>以下的 cos 函数全部使用角度单位。<br />
游戏用来计算余弦值的文件。其格式可在这里找到：<a href="http://will.kirk.by/labs/tt/edge/cos.bin">http://will.kirk.by/labs/tt/edge/cos.bin</a><br />
EdgeTool 反编译这个文件可以得到 cos.txt。这是一个有 181 行的文件，第 i 行中写的是 cos(i-1) 的值。<br />
每个值精确到 1/256，即 0.00390625。你不能填写正负无穷大，因为每一行的数字都必须有取值范围：[-128,127.99609375]，即 [ -128,128 )<br />
P.S. 虽然在通常情况下余弦的值域是[-1,1]，但是很幸运我们可以使用一些更加大的值来实现一些神奇的功能。</p>
<p>标准 cos.txt：</p>
<pre class="brush: xml">1
0.99609375
0.99609375
0.99609375
0.99609375
0.99609375
0.9921875
0.9921875
0.98828125
0.984375
0.984375
0.98046875
0.9765625
0.97265625
0.96875
0.96484375
0.9609375
0.953125
0.94921875
0.9453125
0.9375
0.9296875
0.92578125
0.91796875
0.91015625
0.90625
0.8984375
0.890625
0.8828125
0.87109375
0.86328125
0.85546875
0.84765625
0.8359375
0.828125
0.81640625
0.80859375
0.796875
0.78515625
0.7734375
0.765625
0.75390625
0.7421875
0.73046875
0.71875
0.70703125
0.69140625
0.6796875
0.66796875
0.65234375
0.640625
0.62890625
0.61328125
0.6015625
0.5859375
0.5703125
0.55859375
0.54296875
0.52734375
0.51171875
0.5
0.484375
0.46875
0.453125
0.4375
0.421875
0.40625
0.390625
0.37109375
0.35546875
0.33984375
0.32421875
0.30859375
0.2890625
0.2734375
0.2578125
0.23828125
0.22265625
0.20703125
0.1875
0.171875
0.15625
0.13671875
0.12109375
0.1015625
0.0859375
0.06640625
0.05078125
0.03125
0.015625
0
-0.015625
-0.03125
-0.05078125
-0.06640625
-0.0859375
-0.1015625
-0.12109375
-0.13671875
-0.15625
-0.171875
-0.1875
-0.20703125
-0.22265625
-0.23828125
-0.2578125
-0.2734375
-0.2890625
-0.30859375
-0.32421875
-0.33984375
-0.35546875
-0.37109375
-0.390625
-0.40625
-0.421875
-0.4375
-0.453125
-0.46875
-0.484375
-0.49609375
-0.51171875
-0.52734375
-0.54296875
-0.55859375
-0.5703125
-0.5859375
-0.6015625
-0.61328125
-0.62890625
-0.640625
-0.65234375
-0.66796875
-0.6796875
-0.69140625
-0.70703125
-0.71875
-0.73046875
-0.7421875
-0.75390625
-0.765625
-0.7734375
-0.78515625
-0.796875
-0.80859375
-0.81640625
-0.828125
-0.8359375
-0.84765625
-0.85546875
-0.86328125
-0.87109375
-0.8828125
-0.890625
-0.8984375
-0.90625
-0.91015625
-0.91796875
-0.92578125
-0.9296875
-0.9375
-0.9453125
-0.94921875
-0.953125
-0.9609375
-0.96484375
-0.96875
-0.97265625
-0.9765625
-0.98046875
-0.984375
-0.984375
-0.98828125
-0.9921875
-0.9921875
-0.99609375
-0.99609375
-0.99609375
-0.99609375
-0.99609375
-1</pre><p>
附图：余弦函数在[0°,180°]内的图像（<a href="https://www.google.com.hk/search?q=cos%28x*pi%2F180%29">Google</a> 绘制）<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/cos.png~original" /></p>
</div></div></div>  </div>
<div id="node-163" class="section-3">
  <h1 class="book-heading">font.bin</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginc1a4.html?destination=node/163%23comment-form">登录</a>或<a href="../../../user/registerc1a4.html?destination=node/163%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>游戏中存放字体的文件。<br />
游戏中的字体和传统的字体不同，它是矢量的，对于每一个字，它都用一个或多个矩形来表示。它的格式可以在这里找到：<a href="http://will.kirk.by/labs/tt/edge/font.bin">http://will.kirk.by/labs/tt/edge/font.bin</a><br />
用 EdgeTool 反编译后你会得到一个 font.xml 文件，其根元素为 Font 元素。</p>
<p>EDGE 自带的字体如下图所示：<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/edge-font.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/edge-font.png~original" /></a></p>
</div></div></div>  <div id="node-164" class="section-4">
  <h1 class="book-heading">Font 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login6dd6.html?destination=node/164%23comment-form">登录</a>或<a href="../../../user/register6dd6.html?destination=node/164%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Font（字体），表示一个字体文件。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">SpaceWidth</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。表示空格的宽度。</td>
</tr><tr><td class="nowrap">LineSpacing</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。表示行间距高度。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Font SpaceWidth="9" LineSpacing="9"&gt;
  ...
&lt;/Font&gt;</pre><p>子元素列表：Char 元素</p>
</div></div></div>  <div id="node-165" class="section-5">
  <h1 class="book-heading">Char 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login6cfb.html?destination=node/165%23comment-form">登录</a>或<a href="../../../user/register6cfb.html?destination=node/165%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Char（字符），表示字体文件中的一个字符。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Character</td>
<td class="nowrap">字符</td>
<td>可选。表示一个字符。通常情况下你只能填写 <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%１２３４５６７８９,.?!:'()_-=+@/"çβāäēëīíōöūü&gt;&lt;[]ñ¡À$ÉȇÜ|şğÇĕčřýňšžŮďĎŐȁÚâćęźɫąśńżŚ</code> 中的一个。如果你没有填写或填写的字符不在上面的范围内，这些字符会被放在标准文件字体的末尾（我也不知道结果会怎么样）。如果你没有填写上面某个字符中的任意一个或几个，它们会使用宽度为 1 的空白字符。</td>
</tr><tr><td class="nowrap">Width</td>
<td class="nowrap">8位自然数</td>
<td>可选，默认为0。表示这个字符的宽度。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Char Character="A" Width="7"&gt;
  ...
&lt;/Char&gt;</pre><p>子元素列表：Rect 元素</p>
</div></div></div>  <div id="node-166" class="section-6">
  <h1 class="book-heading">Rect 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login105e.html?destination=node/166%23comment-form">登录</a>或<a href="../../../user/register105e.html?destination=node/166%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Rect（矩形），表示一个字符中的一个黑色的矩形。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Point</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。表示矩形左上角的坐标。</td>
</tr><tr><td class="nowrap">Size</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。表示矩形的宽度与高度。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Rect Point="0,0" Size="7,1" /&gt;</pre></div></div></div>  </div>
</div>
</div>
</div>
<div id="node-15" class="section-3">
  <h1 class="book-heading">mapping.xml</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginfa21.html?destination=node/15%23comment-form">登录</a>或<a href="../../../user/registerfa21.html?destination=node/15%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>mapping.xml 在游戏的 levels 文件夹中，里面存放了当前游戏使用的关卡列表。<br />
它是一个 XML 文件，其根元素为 levels，无属性，下面有三个子元素，分别为standard、bonus 和 extended，分别代表游戏中的normal levels、bonus levels 和 extended levels。这三个子元素的属性只有一个，为special_locked_level_count，表示最后几关会被特殊锁定，只有在前面所有关中获得全部棱柱才能解锁最后几关。<br />
每个子元素下有 0 至若干个 level 元素。</p>
</div></div></div>  <div id="node-16" class="section-4">
  <h1 class="book-heading">level 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb409.html?destination=node/16%23comment-form">登录</a>或<a href="../../../user/registerb409.html?destination=node/16%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>level 元素表示在关卡列表中的一个关卡，其属性如下：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">filename</td>
<td class="nowrap">文本</td>
<td>必填。要添加关卡的 bin 文件的相对路径（无需扩展名）。推荐你给你的新关使用这样的格式：{制作者}_{关卡名}_{关卡 ID}，如 mygod_starry_640001。</td>
</tr><tr><td class="nowrap">leaderboard_id</td>
<td class="nowrap">32位整数</td>
<td>可选。关卡的排行榜 ID。生成方法不明。推荐随便写一个。</td>
</tr><tr><td class="nowrap">name_sfx</td>
<td class="nowrap">文本</td>
<td>可选。指定启动关卡时播放的声效 ID。这些声效在 <a href="../../../developers/file-formats/audio.html">audio 文件夹</a> 中定义。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;level filename="level309_winter" leaderboard_id="44875"
       name_sfx="1st_contact" /&gt;</pre></div></div></div>  </div>
</div>
<div id="node-39" class="section-3">
  <h1 class="book-heading">text.loc</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logindb02.html?destination=node/39%23comment-form">登录</a>或<a href="../../../user/registerdb02.html?destination=node/39%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>在 localization 文件夹内只有一个文件，那就是 text.loc，该文件允许你修改或翻译游戏中的文本。<br />
Will Kirkby提供了该文件的格式并实现了一个读写 .loc 文件的类：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/LOC.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/LOC.cs</a><br />
对于开发者，你同样可以用 EdgeTool 反编译、编译该文件来修改该文件。反编译后你会得到一个 text.xls 文件，这是一个标准的 Microsoft Excel 97-2003 工作表，你需要安装Microsoft Excel 97 或更高版本来打开这个文件。打开后如下图所示。<br /><img src="../../../../i.imgur.com/P9sCnL9.png" /><br />
第一行是列头，其中第一列固定不变为id，后面几列分别为对应的语言ID。<br />
下面每一行，第一列代表这一行文本的ID，请不要改动，后面几列分别为对应语言ID对应的文本。<br />
你可以任意修改这个文件除第一列以外的任何部分，修改完毕后再次编译即可。</p>
<p>附表：EDGE 支持语言及其对应ID</p>
<table><thead><tr><th>语言</th>
<th>ID</th>
</tr></thead><tbody><tr><td>english</td>
<td>en</td>
</tr><tr><td>german</td>
<td>de</td>
</tr><tr><td>french</td>
<td>fr</td>
</tr><tr><td>spanish</td>
<td>es</td>
</tr><tr><td>italian</td>
<td>it</td>
</tr><tr><td>dutch</td>
<td>nl</td>
</tr><tr><td>korean</td>
<td>ko</td>
</tr><tr><td>schinese</td>
<td>zh</td>
</tr><tr><td>tchinese</td>
<td>zh</td>
</tr><tr><td>russian</td>
<td>ru</td>
</tr><tr><td>thai</td>
<td>th</td>
</tr><tr><td>japanese</td>
<td>ja</td>
</tr><tr><td>portuguese</td>
<td>pt</td>
</tr><tr><td>polish</td>
<td>pl</td>
</tr><tr><td>danish</td>
<td>da</td>
</tr><tr><td>finnish</td>
<td>fi</td>
</tr><tr><td>norwegian</td>
<td>no</td>
</tr><tr><td>swedish</td>
<td>sv</td>
</tr><tr><td>hungarian</td>
<td>hu</td>
</tr><tr><td>czech</td>
<td>cs</td>
</tr><tr><td>romanian</td>
<td>ro</td>
</tr><tr><td>turkish</td>
<td>tr</td>
</tr><tr><td>arabic</td>
<td>ar</td>
</tr><tr><td>brazilian</td>
<td>pt</td>
</tr><tr><td>bulgarian</td>
<td>bg</td>
</tr></tbody></table></div></div></div>  </div>
<div id="node-40" class="section-3">
  <h1 class="book-heading">资源文件</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login0a27.html?destination=node/40%23comment-form">登录</a>或<a href="../../../user/register0a27.html?destination=node/40%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>EDGE 游戏中有许多资源文件，里面存放了各种各样奇怪的东西。<br />
大部分资源文件都有固定且相同的文件头与命名方式。</p>
<h3>文件头</h3>
<p>出处：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/AssetHeader.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/Asse...</a><br /><code>0x00-0x07</code>: 指定引擎版本，不过游戏通常不会识别。在 EDGE 中通常使用 <code>0x0018000000000004</code>（在部分较新版本中）或 <code>0x00XX000000000003</code>（XX表示任意位）。<br /><code>0x08-0x47</code>: 一串文本，指定了当前文件原来的文件名。<br /><code>0x48-0x87</code>: 一串文本，指定了当前文件的命名空间，通常与它所在的目录名相同。</p>
<h3>命名方式</h3>
<p>出处：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/AssetHeader.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/Asse...</a><br />
文件名由三部分组成，第一部分为去掉扩展名后反转过的文件名的哈希值的十六进制表示（材料、非根模型与非根动画除外），第二部分为反转后的命名空间哈希值的十六进制表示，第三部分为扩展名，表示文件的类型。<br />
哈希算法是使用了可以自定义多项式系数（大概是这么叫法）的 CRC32，其 C# 实现：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/Util/CRC32.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/Util...</a><br />
哈希文件名时使用的多项式系数为标准算法所使用的 <code>0xEDB88320</code>，哈希命名空间时的多项式系数为前面的系数取反，即 <code>0x12477CDF</code>。<br />
命名空间可以是以下值之一：（主要取决于你放的文件夹名）</p>
<pre>audio
config
default
effects.edge_effects
effects
fx.shaders
fx
images.effects
images
levels
localization
models
music
sprites
textures</pre></div></div></div>  <div id="node-43" class="section-4">
  <h1 class="book-heading">.ean 动画</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb38f.html?destination=node/43%23comment-form">登录</a>或<a href="../../../user/registerb38f.html?destination=node/43%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.ean 动画文件存放在 models 文件夹中。它存放了游戏中使用的动画。<br />
其原来文件名的扩展名为 .rcha，使用 EdgeTool 反编译时实际输出为 .xml 文件。<br />
命名空间：<code>models</code><br />
此文件的二进制结构过于复杂，这里只讲其 XML，如有兴趣请见：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EAN.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EAN.cs</a><br />
反编译后得到的 XML 其根元素为 Animation 元素。</p>
</div></div></div>  <div id="node-44" class="section-5">
  <h1 class="book-heading">Animation 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login7d28.html?destination=node/44%23comment-form">登录</a>或<a href="../../../user/register7d28.html?destination=node/44%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Animation（动画），表示一个动画。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Unknown</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Duration</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。指定动画的时长。</td>
</tr><tr><td class="nowrap">NodeChild</td>
<td class="nowrap">文本</td>
<td>可选。指定该动画第一个子动画的ID。</td>
</tr><tr><td class="nowrap">NodeSibling</td>
<td class="nowrap">文本</td>
<td>可选。指定该动画下一个兄弟动画的ID。该属性与上面提到的 @NodeChild，实质上是<a href="http://book.51cto.com/art/201008/220481.htm">多叉树的二叉树表示方法</a>，也就是所谓的左孩子右兄弟。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Animation Duration="110"&gt;
  ...
&lt;/Animation&gt;</pre><p>子元素列表：关键帧块元素（元素名各异，0～9个）</p>
</div></div></div>  <div id="node-45" class="section-6">
  <h1 class="book-heading">关键帧块元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginf5f3.html?destination=node/45%23comment-form">登录</a>或<a href="../../../user/registerf5f3.html?destination=node/45%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：关键帧块元素表示对目标物体某一个属性的一系列关键帧。其元素名前半部分为 Rotate（旋转）、Scale（缩放）、Translate（平移）中的一个，后半部分为 X、Y、Z 中的一个。<br />
请注意这里的Y、Z轴方向应在关卡 .bin 格式中的基础上相互交换。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Value</td>
<td class="nowrap">32位浮点数</td>
<td>可选，在 Rotate 和 Translate 中默认为 0，在 Scale 中默认为 1。指定动画开始前的值。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;RotateX Value="-90"&gt;
  ...
&lt;/RotateX&gt;</pre><p>子元素列表：Keyframe 元素</p>
</div></div></div>  <div id="node-46" class="section-7">
  <h1 class="book-heading">Keyframe 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginfab4.html?destination=node/46%23comment-form">登录</a>或<a href="../../../user/registerfab4.html?destination=node/46%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Keyframe（关键帧），表示在某一特定时刻当前物体当前属性的值，关键帧与关键帧之间将使用线性插值平滑过渡。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Time</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为 0。指定时刻。</td>
</tr><tr><td class="nowrap">Value</td>
<td class="nowrap">32位浮点数</td>
<td>可选，在 Rotate 和 Translate 中默认为 0，在 Scale 中默认为 1。指定这一时刻的值。</td>
</tr><tr><td class="nowrap">Delta</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为 0。指定Δ。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Keyframe Time="6" Value="-89.9999888440998" Delta="19.9999977106385" /&gt;</pre></div></div></div>  </div>
</div>
</div>
<div id="node-105" class="section-5">
  <h1 class="book-heading">绘制动画树</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginc931.html?destination=node/105%23comment-form">登录</a>或<a href="../../../user/registerc931.html?destination=node/105%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/draw-animation-tree.png~original" /><br />
EdgeTool 提供了绘制动画树的功能来便于你搞清楚同一个动画中各个字动画之间的父子关系。<br />
绘制动画树时 EdgeTool 会搜索以下位置来查找某个动画的依赖项：<br /><a href="../../../developers/file-formats/asset/ean/Animation.html">/Animation</a>/@NodeChild<br /><a href="../../../developers/file-formats/asset/ean/Animation.html">/Animation</a>/@NodeSibling<br />
动画名除了可以输入下拉列表中列出的各项以外你还可以自己随便打一些乱七八糟的东西，但是你自己制作的动画很可能并不会被游戏使用。</p>
</div></div></div>  </div>
</div>
<div id="node-47" class="section-4">
  <h1 class="book-heading">.ema 材料</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginacd2.html?destination=node/47%23comment-form">登录</a>或<a href="../../../user/registeracd2.html?destination=node/47%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.ema 材料文件存放在 models 文件夹中。它存放了游戏中使用的材料。<br />
其原来文件名的扩展名为 .rmdl，使用 EdgeTool 反编译时实际输出为 .xml 文件。<br />
个人认为 Two Tribes 有某种工具可以把 .rmdl 文件转换成多个 .ema 与 .eso 文件。<br />
命名空间：<code>models</code><br />
此文件的二进制结构过于复杂，如有兴趣请见：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EMA.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/EMA.cs</a><br />
反编译后得到的 XML 其根元素为 Material 元素。</p>
<p>请注意 .ema 的文件名部分的哈希算法与其他资源文件不同，且具体算法不明。不过它们的 ID 大多会被模型引用，因此理论上来说文件名可以任意填写。</p>
</div></div></div>  <div id="node-55" class="section-5">
  <h1 class="book-heading">Material 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login4a3c.html?destination=node/55%23comment-form">登录</a>或<a href="../../../user/register4a3c.html?destination=node/55%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Material（材料），一种材料，主要决定物体表面的外观。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Name</td>
<td class="nowrap">文本</td>
<td>可选。指定该材料的名称。其意义不明。</td>
</tr><tr><td class="nowrap">Color1</td>
<td class="nowrap">颜色</td>
<td>可选，默认为 Transparent。其意义不明。</td>
</tr><tr><td class="nowrap">Color2</td>
<td class="nowrap">颜色</td>
<td>可选，默认为 Transparent。其意义不明。</td>
</tr><tr><td class="nowrap">Color3</td>
<td class="nowrap">颜色</td>
<td>可选，默认为 Transparent。其意义不明。</td>
</tr><tr><td class="nowrap">Color4</td>
<td class="nowrap">颜色</td>
<td>可选，默认为 Transparent。其意义不明。</td>
</tr><tr><td class="nowrap">Float1</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Int1</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Int2</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Int3</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Footer4</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">Footer5</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Material Name="01_-_Default" Color1="#969696" Color2="#969696"
          Color3="#FFFFFF" Color4="#E5E5E5" Float1="1" Footer4="4"
          Footer5="5"&gt;
  ...
&lt;/Material&gt;</pre><p>子元素列表：<br />
Texture<br />
DefaultTransform<br />
AnimationBlock</p>
</div></div></div>  <div id="node-58" class="section-6">
  <h1 class="book-heading">AnimationBlock 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login5cac.html?destination=node/58%23comment-form">登录</a>或<a href="../../../user/register5cac.html?destination=node/58%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：AnimationBlock（动画块），指定了一个动画。<br />
样例：<code>&lt;AnimationBlock&gt; ... &lt;/AnimationBlock&gt;</code><br />
子元素列表：<br /><a href="../../../developers/file-formats/asset/ean/Animation/keyframe-block.html">关键帧块元素</a>（可能的元素名有 ScaleU, ScaleV, Rotation, TranslationU 和 TranslationV，元素名各异，各 0～1 个，U、V轴即图像的X、Y轴）</p>
</div></div></div>  </div>
<div id="node-57" class="section-6">
  <h1 class="book-heading">DefaultTransform 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logind46a.html?destination=node/57%23comment-form">登录</a>或<a href="../../../user/registerd46a.html?destination=node/57%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded">说明：DefaultTransform（默认变换），指定材料的默认变换。<br />
属性列表：
<table><thead><tr><th class="nowrap">属性名</th>
            <th class="nowrap">数据类型</th>
            <th>备注</th>
        </tr></thead><tbody><tr><td class="nowrap">ScaleU</td>
            <td class="nowrap">32位浮点数</td>
            <td>可选，默认为1。指定在 U 轴（即图像的 X 轴）上的缩放级别。</td>
        </tr><tr><td class="nowrap">ScaleV</td>
            <td class="nowrap">32位浮点数</td>
            <td>可选，默认为1。指定在 V 轴（即图像的 Y 轴）上的缩放级别。</td>
        </tr><tr><td class="nowrap">Rotation</td>
            <td class="nowrap">32位浮点数</td>
            <td>可选，默认为0。指定旋转的角度。</td>
        </tr><tr><td class="nowrap">TranslationU</td>
            <td class="nowrap">32位浮点数</td>
            <td>可选，默认为0。指定在 U 轴（即图像的 X 轴）方向的平移量。</td>
        </tr><tr><td class="nowrap">TranslationV</td>
            <td class="nowrap">32位浮点数</td>
            <td>可选，默认为0。指定在 V 轴（即图像的 Y 轴）方向的平移量。</td>
        </tr></tbody></table><pre title="样例" class="brush: xml">&lt;DefaultTransform /&gt;</pre></div></div></div>  </div>
<div id="node-56" class="section-6">
  <h1 class="book-heading">Texture 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginde40.html?destination=node/56%23comment-form">登录</a>或<a href="../../../user/registerde40.html?destination=node/56%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Texture（图像），链接一个 <a href="../../../developers/file-formats/asset/etx.html">.etx 图像</a>，其具体使用方法不明。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Asset</td>
<td class="nowrap">资源ID</td>
<td>可选。指定要链接的资源ID。</td>
</tr><tr><td class="nowrap">IntArray1</td>
<td class="nowrap">32位整数列表</td>
<td>可选，默认为 0,0,0,0。必须由四个数字组成。其意义不明。</td>
</tr><tr><td class="nowrap">IntArray2</td>
<td class="nowrap">32位整数列表</td>
<td>可选，默认为 0,0,0。必须由三个数字组成。其意义不明。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Texture Asset="DBC9C60A039573F7" IntArray1="2,2,2,2" /&gt;</pre></div></div></div>  </div>
</div>
</div>
<div id="node-48" class="section-4">
  <h1 class="book-heading">.eso 模型</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login9792.html?destination=node/48%23comment-form">登录</a>或<a href="../../../user/register9792.html?destination=node/48%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.eso 模型文件存放在 models 文件夹中。它存放了游戏中使用的模型。<br />
其原来文件名的扩展名为 .rmdl，使用 EdgeTool 反编译时实际输出为 .xml 文件。<br />
个人认为 Two Tribes 有某种工具可以把 .rmdl 文件转换成多个 .ema 与 .eso 文件。<br />
命名空间：<code>models</code><br />
此文件的二进制结构过于复杂，如有兴趣请见：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ESO.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ESO.cs</a><br />
反编译后得到的 XML 其根元素为 Models 元素。<br />
你可以使用 EdgeTool 中查看模型的功能来看看这是什么个鬼东西。</p>
</div></div></div>  <div id="node-59" class="section-5">
  <h1 class="book-heading">Models 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina4d9.html?destination=node/59%23comment-form">登录</a>或<a href="../../../user/registera4d9.html?destination=node/59%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：代表一个 .eso 文件，并定义了所有子模型的转换。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">V01</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">V02</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">NodeChild</td>
<td class="nowrap">资源ID</td>
<td>可选。指定该模型第一个子模型的ID。父模型的变换会影响到子模型。</td>
</tr><tr><td class="nowrap">NodeSibling</td>
<td class="nowrap">资源ID</td>
<td>可选。指定该模型下一个兄弟模型的ID。该属性与上面提到的 @NodeChild，实质上是<a href="http://book.51cto.com/art/201008/220481.htm">多叉树的二叉树表示方法</a>，也就是所谓的左孩子右兄弟。</td>
</tr><tr><td class="nowrap">V07</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">V08</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">V09</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">ScaleXYZ</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为1。指定所有轴上的缩放级别。应用动画时此项会失效。</td>
</tr><tr><td class="nowrap">Translate</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。指定平移量。应用动画时此项会失效。</td>
</tr><tr><td class="nowrap">Rotate</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。指定旋转量。应用动画时此项会失效。</td>
</tr><tr><td class="nowrap">Scale</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为1,1,1。指定缩放大小。应用动画时此项会失效。</td>
</tr><tr><td class="nowrap">V20</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">V21</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。其意义不明。</td>
</tr><tr><td class="nowrap">BoundingMin</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。仅在有 Model 元素时有效。指定最小坐标。警告：错误地设置该值会导致模型突然出现或消失。</td>
</tr><tr><td class="nowrap">BoundingMax</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。仅在有 Model 元素时有效。指定最大坐标。警告：错误地设置该值会导致模型突然出现或消失。</td>
</tr><tr><td class="nowrap">FooterV01</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。仅在有 Model 元素时有效。其意义不明。</td>
</tr><tr><td class="nowrap">FooterV02</td>
<td class="nowrap">32位浮点数</td>
<td>可选，默认为0。仅在有 Model 元素时有效。其意义不明。</td>
</tr><tr><td class="nowrap">FooterV03</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。仅在有 Model 元素时有效。其意义不明。</td>
</tr><tr><td class="nowrap">FooterV04</td>
<td class="nowrap">32位整数</td>
<td>可选，默认为0。仅在有 Model 元素时有效。其意义不明。</td>
</tr><tr><td class="nowrap">AutoNormals</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为False。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。表示是否要为该元素下的三角形中没有设置法线的顶点生成与所在平面垂直的法线。</td>
</tr><tr><td class="nowrap">ApplyTransform</td>
<td class="nowrap">特殊</td>
<td>可选，默认为 Copy。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。指定是否需要预处理顶点和法线的变换，以避免应用动画时模型中指定的变换被覆盖。具体效果见附表。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Models V01="1" Translate="-901.876,-797.4585,31.30136" V20="1"
        BoundingMin="-2261.529,-1535.439,-799.6431"
        BoundingMax="951.2814,156.3801,1367.22"&gt;
  ...
&lt;/Models&gt;</pre><p>子元素列表：Model</p>
<p>附：由于矩阵乘法交换律不成立，因此游戏对模型操作的顺序至关重要。到目前为止，EdgeTool 使用的操作顺序是：Scale、Rotate、Translate。<br />
附表：</p>
<table><thead><tr><th>@ApplyTransform</th>
<th>预处理变换次数</th>
<th>输出变换</th>
<th>默认效果</th>
<th>应用动画后效果</th>
</tr></thead><tbody><tr><td>Copy</td>
<td>0</td>
<td>√</td>
<td>应用变换 1 次</td>
<td>无效果</td>
</tr><tr><td>Remove</td>
<td>0</td>
<td>×</td>
<td>无效果</td>
<td>无效果</td>
</tr><tr><td>Multiplication</td>
<td>1</td>
<td>×</td>
<td>应用变换 1 次</td>
<td>应用变换 1 次</td>
</tr><tr><td>MultiplicationOnly</td>
<td>1</td>
<td>√</td>
<td>应用变换 2 次</td>
<td>应用变换 1 次</td>
</tr><tr><td>Division</td>
<td>-1</td>
<td>×</td>
<td>应用逆变换 1 次</td>
<td>应用逆变换 1 次</td>
</tr><tr><td>DivisionOnly</td>
<td>-1</td>
<td>√</td>
<td>无效果</td>
<td>应用逆变换 1 次</td>
</tr></tbody></table></div></div></div>  <div id="node-60" class="section-6">
  <h1 class="book-heading">Model 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb5ee.html?destination=node/60%23comment-form">登录</a>或<a href="../../../user/registerb5ee.html?destination=node/60%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Model（模型），表示一个 3D 模型。尽管很不符合常理，但是定义在前面的模型/三角形如果比后面的离相机更近（即 X, Y, Z 坐标之和更大），那么即使它是半透明的，后面的也不会显示出来，如下图所示。因此如果有半透明的模型应该尽量将离相机远的（即 X, Y, Z 坐标之和小的）先定义。<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/overwrite-bug.png~original" /><br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">MaterialAsset</td>
<td class="nowrap">资源ID</td>
<td>可选。指定一个要使用的<a href="../../../developers/file-formats/asset/ema.html">材料（.ema 文件）</a>。</td>
</tr><tr><td class="nowrap">AutoNormals</td>
<td class="nowrap">布尔型</td>
<td>可选。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。如果没有填写则继承父元素的设置。表示是否要为该元素下的三角形中没有设置法线的顶点生成与所在平面垂直的法线。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Model MaterialAsset="79C81114050DB82A"&gt;
  ...
&lt;/Model&gt;</pre><p>子元素列表：Triangle</p>
</div></div></div>  <div id="node-61" class="section-7">
  <h1 class="book-heading">Triangle 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina1dc.html?destination=node/61%23comment-form">登录</a>或<a href="../../../user/registera1dc.html?destination=node/61%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Triangle（三角形），表示在三维空间中的一个三角形表面。你可以利用多个三角形表面组合来组成矩形、平行四边形、五边形，甚至是球面。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">AutoNormals</td>
<td class="nowrap">布尔型</td>
<td>可选。<a href="../../../developers/syntactic-sugar.html">语法糖</a>。如果没有填写则继承父元素的设置。表示是否要为该元素下的三角形中没有设置法线的顶点生成与所在平面垂直的法线。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Triangle&gt;
  ...
&lt;/Triangle&gt;</pre><p>子元素列表：Vertex（3个，当三个顶点朝某一方向按定义的顺序观察时是按顺时针旋转时这一方向为三角形的正面，三角形的背面是透明的，从背面看过去可以穿过它）</p>
</div></div></div>  <div id="node-62" class="section-8">
  <h1 class="book-heading">Vertex 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login0a3c.html?destination=node/62%23comment-form">登录</a>或<a href="../../../user/register0a3c.html?destination=node/62%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：Vertex（顶点），表示一个三角形的一个顶点。以下内容可能需要一定的 3D 知识。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。指定该点的空间坐标。</td>
</tr><tr><td class="nowrap">Normal</td>
<td class="nowrap">三维浮点向量</td>
<td>可选，默认为0,0,0。指定该点的法线方向。</td>
</tr><tr><td class="nowrap">Color</td>
<td class="nowrap">颜色</td>
<td>可选，默认为 Transparent。指定该点的着色（colorize）。如果没有使用任何纹理，默认会使用全白的。如果所有 Color 都没有填写，那么在游戏中似乎会显示为 #B8B8B8。</td>
</tr><tr><td class="nowrap">TexCoord</td>
<td class="nowrap">二维浮点向量</td>
<td>可选，默认为0,0。指定该点的纹理坐标。有时候该值的范围可能超出(0,0)-(1,1)，此时很可能需要对该值进行加减一个整数来使其重返这个范围内。该值理论上不能和@Color并存。</td>
</tr><tr><td class="nowrap">Unknown</td>
<td class="nowrap">二维浮点向量</td>
<td>可选，默认为0,0。其用法不明。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;Vertex Position="-55.21204,-1160.818,433.7133" Normal="0,1,0.000244"
        TexCoord="0.276604,0.498435" /&gt;</pre></div></div></div>  </div>
</div>
</div>
</div>
<div id="node-94" class="section-5">
  <h1 class="book-heading">关卡模型</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login1aaa.html?destination=node/94%23comment-form">登录</a>或<a href="../../../user/register1aaa.html?destination=node/94%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　通常情况下，任意一个关卡都对应着一个 .eso 模型，里面存放着该关卡中墙壁与地面的外观，这就是所谓的关卡模型。通常情况下它有两个子模型，分别是<a href="../../../developers/file-formats/asset/eso/level-model/islands.html">关卡岛屿模型</a>与<a href="../../../developers/file-formats/asset/eso/level-model/stars.html">关卡星星模型</a>。<br />
　　在忽略 Models 元素中各种变换的情况下，一个在关卡 .bin 文件中定义的方块位置 (x, y, z) 可以在模型中转换成一个 1x1x1（当然如果方块的 <a href="../../../developers/file-formats/level-bin/z.html">Z 坐标</a>为 0 则是 1x0.5x1）的正方体，它离原点最近的一点为 (x, z, y - 关卡长度)（如果方块的 Z 坐标为 0 则这一点是 (x, 0.5, y - 关卡长度)），离原点最远的一点为 (x + 1, z + 1, y - 关卡长度 + 1)。<br />
　　在极早期的 EDGE 中由于关卡模型在 y=0 到 y=0.5 之间没有物体，因此整体的 y 坐标都上移了 0.5 来使最低的 y 坐标达到 1，不过后来又由于未知的原因（估计是因为觉得这么做太蠢了）而放弃了。如果你不幸的遇到了这样的模型，你可以将 <a href="../../../developers/file-formats/asset/eso/Models.html">Models</a>/@Translate 的 Y 坐标减去 0.5 来修复问题。<br />
　　通常情况下一个方块最多有三个面，即上面、东面和南面，此时它的上方、东方、南方都没有方块，也就是没有被遮挡。其中上面的颜色除了由 Z 坐标确定以外，为了达到棋盘的效果还会深浅相间。当方块的 x + y 为偶数时上面是浅色，是奇数时为深色。而另外三个面由于在大多数时候不会被玩家看到因此没有必要制作。</p>
</div></div></div>  <div id="node-95" class="section-6">
  <h1 class="book-heading">winter 关卡模型</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logina0ad.html?destination=node/95%23comment-form">登录</a>或<a href="../../../user/registera0ad.html?destination=node/95%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>winter 关卡模型与一般的关卡模型略有不同。它的根模型是一个空模型，下面有两个子模型：</p>
<ol><li>第一个子模型就是一般的关卡模型；</li>
<li>第二个子模型里是雪的模型，由于雪模型的材料没有使用纹理，因此在 EdgeTool 的<a href="../../../developers/file-formats/asset/drawing-model-tree.html">绘制模型树</a>功能中暂时只能用全白表示。</li>
</ol></div></div></div>  </div>
<div id="node-99" class="section-6">
  <h1 class="book-heading">关卡岛屿模型</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login313a.html?destination=node/99%23comment-form">登录</a>或<a href="../../../user/register313a.html?destination=node/99%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　关卡岛屿模型是关卡模型的子模型中的第一个，顾名思义里面是一些在空中随机位置飘浮的岛屿。<br />
　　研究表明尽管 level543 这个关卡并不存在，绘制模型树时却可以看到这一关的模型，但这一关的模型并不符合一般关卡模型的格式，而且有几个子模型与其他岛屿模型的外观相同，因此这一关很可能是用来生成那些岛屿模型的测试关卡。<br />
　　通常情况下为了避免和关卡模型冲突，关卡岛屿模型中的内容都在 xOz 平面（y=0）以下，一个例外是在 voodoo dance 的临近终点处中有一个模型跑到了关卡模型上方。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/level-island-model.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/level-island-model.png~original" /></a></p>
</div></div></div>  </div>
<div id="node-100" class="section-6">
  <h1 class="book-heading">关卡星星模型</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login84d5.html?destination=node/100%23comment-form">登录</a>或<a href="../../../user/register84d5.html?destination=node/100%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　关卡星星模型是关卡模型的子模型中的第二个，顾名思义里面是在空中随机位置飘浮的星星。<br />
　　它们实际上是正方形，但由于在游戏中距离太远，玩家并不会意识到它是正方形。如果你在恰当的位置通过使用 <a href="../../../developers/file-formats/level-bin/Level/CameraTrigger.html">/Level/CameraTrigger</a>/@Angle=-1 开启平行投影，你可以看到这些正方形其实还是挺大的。<br />
　　通常情况下为了避免和关卡模型冲突，关卡星星模型中的内容同样也都在 xOz 平面（y=0）以下。</p>
</div></div></div>  </div>
</div>
</div>
<div id="node-41" class="section-4">
  <h1 class="book-heading">.etx 纹理</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login80fb.html?destination=node/41%23comment-form">登录</a>或<a href="../../../user/register80fb.html?destination=node/41%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>.etx 纹理文件存放在 textures 文件夹中。它存放了游戏中要使用的纹理，它们实际上就是图像。如果游戏在 textures 文件夹下没有找到对应的文件，就会显示 default/CBB649F112744E56.etx (default.img.png)，它看起来是像这个样子：<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/defaultimg.png~original" /><br />
其原来文件名的扩展名为 .img，使用 EdgeTool 反编译时实际输出为 .png 图像。<br />
命名空间：<code>textures</code>（仅对于 textures 文件夹下的 .etx 文件而言，在极早期的版本中的命名空间为 <code>models.textures</code>）<br />
EDGE 的版本不同，.etx 的格式也不同，大致可以分为下面两种。</p>
<h3>早期版本</h3>
<p>C# 实现：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ETX1803.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ETX1...</a><br />
引擎版本：<code>0x00XX000000000003</code><br />
去掉资源文件头后下面就是一个 PNG 图像，也就是说去掉文件头后这个文件与 .png 文件无异。</p>
<h3>新版</h3>
<p>C# 实现：<a href="https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ETX1804.cs">https://github.com/WillKirkby/LibTwoTribes/blob/master/LibTwoTribes/ETX1...</a><br />
引擎版本：<code>0x0018000000000004</code><br /><code>0x88-0x89</code>: 指定图像宽度。<br /><code>0x8A-0x8B</code>: 指定图像高度。<br /><code>0x8C-0x8F</code>: 不明，似乎永远为 <code>0x00000002</code>。<br /><code>0x90-0x93</code>: 下面位图数据的长度。<br /><code>0x94-</code>: 位图数据，以 BGRA32 格式存储。</p>
</div></div></div>  </div>
<div id="node-64" class="section-4">
  <h1 class="book-heading">绘制模型树</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login1c71.html?destination=node/64%23comment-form">登录</a>或<a href="../../../user/register1c71.html?destination=node/64%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/edgetool-draw-model-tree.png~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/edgetool-draw-model-tree.png~original" /></a><br />
EdgeTool 提供了绘制模型树的功能，这有利于你寻找一些特定模型的内容。<br />
绘制模型树时 EdgeTool 会搜索以下位置来查找某个模型/材料的依赖项：<br /><a href="../../../developers/file-formats/asset/eso/Models.html">/Models</a>/@NodeChild<br /><a href="../../../developers/file-formats/asset/eso/Models.html">/Models</a>/@NodeSibling<br /><a href="../../../developers/file-formats/asset/eso/Models/Model.html">/Models/Model</a>/@MaterialAsset<br /><a href="../../../developers/file-formats/asset/ema/Material/Texture.html">/Material/Texture</a>/@Asset<br />
模型名除了可以输入关卡的关卡名以外还可以输入下拉列表中列出的各项，你应该避免把你的关卡的文件名设为这些文本。</p>
</div></div></div>  </div>
</div>
</div>
    </div>  </body>

<!-- Mirrored from edgefans.tk/book/export/html/14 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:06:43 GMT -->
</html>
