<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans" xml:lang="zh-hans" dir="ltr">
  
<!-- Mirrored from edgefans.tk/book/export/html/28 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:22:47 GMT -->
<head>
    <title>CameraTrigger 元素</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
    <base  />
    <script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"abf52a451ec7c4c9a3d7ede279cc4b89",petok:"778429c4f528c1ef95d4227592035b7e1c818ebf-1419674318-1800",zone:"edgefans.tk",rocket:"0",apps:{"abetterbrowser":{"ie":"7"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="../../../../ajax.cloudflare.com/cdn-cgi/nexp/dok2v%3d919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link type="text/css" rel="stylesheet" href="../../../misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
                <div class="section-3">
                <div class="section-4">
              <div id="node-28" class="section-5">
  <h1 class="book-heading">CameraTrigger 元素</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login8b64.html?destination=node/28%23comment-form">登录</a>或<a href="../../../user/register8b64.html?destination=node/28%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>说明：CameraTrigger（相机触发器），会在到达这一点（或这一范围）时改变缩放级别。<br />
属性列表：</p>
<table><thead><tr><th class="nowrap">属性名</th>
<th class="nowrap">数据类型</th>
<th>备注</th>
</tr></thead><tbody><tr><td class="nowrap">Position</td>
<td class="nowrap">三维坐标</td>
<td>必填。指定相机触发点的坐标。</td>
</tr><tr><td class="nowrap">Radius</td>
<td class="nowrap">二维向量</td>
<td>可选，默认为0,0。使方块的坐标与相机触发器坐标之差的绝对值小于此值时也认为是触发了相机触发器。（换言之可以使相机触发点变成一个矩形）</td>
</tr><tr><td class="nowrap">Zoom</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为-1。指定触发后的缩放级别，即相机离方块的距离，从近到远分别是6、5、1、2、3、4。填写为负数或不填写表示启动高级相机模式。请注意启动高级相机模式后必须填写@Duration，否则无效！填写其他值同样无效。</td>
</tr><tr><td class="nowrap">Angle</td>
<td class="nowrap">16位整数</td>
<td>可选。指定触发后相机的观察角度。22 为默认观察角度，大于等于 0 时使用透视投影，且该值越大观察角度越低，大于 184 时的效果与等于 184 相同；小于 0 时使用平行投影，其数值无实际效果。请注意 @Angle 在正负交换时会闪一下。填写后 @FieldOfView 无效。</td>
</tr><tr><td class="nowrap">FieldOfView</td>
<td class="nowrap">16位整数</td>
<td>可选，默认为 22。指定触发后的视野大小。大于 184 时的效果与等于 184 相同；小于 0 时视角会变得极小，只能看到方块，其数值无实际效果。</td>
</tr><tr><td class="nowrap">StartDelay</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。指定触发到开始移动相机之间间隔的帧（1/22 秒）数。仅在高级相机模式下可用。</td>
</tr><tr><td class="nowrap">Duration</td>
<td class="nowrap">16位自然数</td>
<td>可选，默认为0。指定相机从当前状态转换到目标状态所花费的帧（1/22 秒）数。仅在高级相机模式下可用。</td>
</tr><tr><td class="nowrap">SingleUse</td>
<td class="nowrap">布尔型</td>
<td>可选，默认为 False。指定是否只能触发一次。仅在高级相机模式下可用。</td>
</tr></tbody></table><pre title="样例" class="brush: xml">&lt;CameraTrigger Position="4,9,1" Radius="1,2" Zoom="1" /&gt;</pre><p>请注意：</p>
<ol><li>在 @Zoom, @Angle, @FieldOfView 三个属性中只能填写一个，在两个及以上被填写有效值的情况下，只有排在最前面的会生效。若三个都不填写则表示重置 @Angle 和 @FieldOfView 到默认值 22。</li>
<li>@FieldOfView 与 @Angle 在任何情况下都不能并存。如在设置 @FieldOfView 时 @Angle 会被回到 22。反之亦然。</li>
</ol></div></div></div>  <div id="node-139" class="section-6">
  <h1 class="book-heading">高级相机模式</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/loginb875.html?destination=node/139%23comment-form">登录</a>或<a href="../../../user/registerb875.html?destination=node/139%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>　　高级相机模式是 Two Tribes 添加的功能，之所以称之为高级是因为 mobigame 的 EDGE 是 <a href="http://zh.wikipedia.org/wiki/偽三維">2.5D</a>，其中并没有也很难有这样的实现。实际上在真正的三维绘图中高级相机模式中的一些概念都是很常见的。<br />
　　注意：高级相机模式的动画即使在暂停时也会继续播放！</p>
<h3>效果演示</h3>
<p><embed src="http://www.tudou.com/v/VmstqkRaVJg/&amp;resourceId=112031677_05_02_99&amp;tid=0/v.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="opaque" width="480" height="400"></embed></p>
<h3>透视投影</h3>
<p><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-1.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-1.jpg~original" /></a><br />
　　透视投影的原理类似于<a href="http://zh.wikipedia.org/wiki/小孔成像">小孔成像</a>（区别在于物和像在孔的同一侧），由于它和眼球的成像（凸透镜成像）效果类似，符合远大近小的规律，因此使用透视投影可以更好地模拟出真实的 3D 世界在眼球中的影像。<br />
　　简单来说透视投影原理就是：在相机前方选择一个平面使其与观测方向垂直，则在 3D 世界中的任意一点在该平面上的投影点为该点与视点的连线与平面的交点。如下图所示。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-2.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-2.jpg~original" /></a><br />
　　接下来我们谈谈视野（Field of View，常简写为 FoV）大小，视野大小是透视投影特有的。上面我们提到的平面大小是无限的，而人眼观察到的图像大小是有限的，同样地游戏的屏幕大小也是有限的，因此我们能看到的部分与视点连线的夹角大小就称为视野大小，如下图所示。通常情况下视野大小的单位为°或弧度，可惜我们并不知道它在 EDGE 中的单位。<br /><a href="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-3.jpg~original"><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/perspective-projection-3.jpg~original" /></a><br />
　　视野（Field of View）与缩放级别（Zoom Level）都是数字越小看得越少，数字越大看得越多但是区别在于缩放级别指的是相机与被观察物体之间的距离，而且小地图的大小会随之改变；而视野则是相机可观察到的角度范围大小，而且小地图的大小不会随之改变。由于人眼的视野有限，如果视野过大就会显得不自然。在上面的视频中你会注意到当 @FieldOfView=180 时远处（或者说四周）的物体看起来不太自然。<br />
　　最后我们再谈谈观察角度，如下图所示（图中的 @Angle=0 应改为 @Angle=22 ），当 @Angle=22 时观察角度与地面的夹角为 45°，@Angle 增大时夹角减小。同样我们并不知道这里的单位是什么。<br /><img src="http://i1264.photobucket.com/albums/jj483/MygodStudio/edgefans/advanced-camera-mode-angle.png~original" /></p>
<h3>平行投影</h3>
<p>　　平行投影与太阳光（由于太阳距离很远可近似看成是平行光）投在若干个 3D 物体上在一个平面（如地面）上留下的影子的效果更加接近。平行投影中由于没有视点，也就没有视野大小的概念。不过应该可以通过调整裁剪的平面大小来达到与视野类似的效果，平行投影的观察角度可以靠平面的倾斜角度和投影方向调整，不过反正游戏中也没给你这功能，就不研究了。<br />
　　在太阳光下飞机在空中打在地面上的影子大小和停在地面上的影子大小差别不大，在平行投影中也是这样，不再是远大近小。东西不论远近，大的投影出来就是大的，小的投影出来就是小的。P.S. 由于在 PC 版的游戏中平行投影效果并不好，我个人猜测 Two Tribes 仿照了太阳光的原理，把相机距离拉得很远，而把视野大小弄得极小来达到平行投影的效果。<br />
　　此外你可以注意到在平行投影中各条平行线在投影后仍然是平行的，但是在透视投影中则不一定。</p>
</div></div></div>  </div>
</div>
    </div></div></div></div>  </body>

<!-- Mirrored from edgefans.tk/book/export/html/28 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:23:18 GMT -->
</html>
