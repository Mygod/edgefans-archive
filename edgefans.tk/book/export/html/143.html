<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-hans" xml:lang="zh-hans" dir="ltr">
  
<!-- Mirrored from edgefans.tk/book/export/html/143 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:24:45 GMT -->
<head>
    <title>Binary JSON</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
    <base  />
    <script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok2v=1613a3a185/"},atok:"abf52a451ec7c4c9a3d7ede279cc4b89",petok:"9d198d04cd01308890665eca45a5672ea4565e47-1419674787-1800",zone:"edgefans.tk",rocket:"0",apps:{"abetterbrowser":{"ie":"7"}}}];!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="../../../../ajax.cloudflare.com/cdn-cgi/nexp/dok2v%3d919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<link type="text/css" rel="stylesheet" href="../../../misc/print.css" />
      </head>
  <body>
              <div class="section-1">
                <div class="section-2">
              <div id="node-143" class="section-3">
  <h1 class="book-heading">Binary JSON</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/login8b4a.html?destination=node/143%23comment-form">登录</a>或<a href="../../../user/register8b4a.html?destination=node/143%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Binary JSON 文件主要出现在<a href="../../../edge/profile-location.html">存档文件夹</a>中，它的扩展名通常是 .ttlead, .ttsav 或 .bjson。<br />
它的文件格式如下。<br />
文件开始是一个以 null (0x00) 为终止的字符串，表示当前文件的类型，可以是以下值之一：</p>
<ul><li><code>TTSAV</code>：游戏存档。</li>
<li><code>TTLEAD</code>：排行榜数据。</li>
<li><code>HMD</code>：热图元数据。</li>
<li><code>HMP</code>：热图。</li>
</ul><p>在字符串之后是一个 32位整数，表示该文件的版本号，总是为 0x00000001。<br />
之后是一个 布尔型，仅在 local_savedata.ttsav 中设为 false。<br />
之后是一个 32位整数，表示压缩部分数据的大小。<br />
之后是一个 32位整数，压缩部分的 CRC32 校验码。<br />
最后是压缩部分数据，其大小和上面定义的压缩部分数据大小相同，压缩方式不明。（已排除 ZLib）</p>
</div></div></div>  <div id="node-144" class="section-4">
  <h1 class="book-heading">TTSAV 游戏存档</h1>
  <div class="form-item form-type-item">
  <label>语言 </label>
 Chinese, Simplified
</div>
<ul class="links inline"><li class="comment_forbidden first last"><span><a href="../../../user/logindb7d.html?destination=node/144%23comment-form">登录</a>或<a href="../../../user/registerdb7d.html?destination=node/144%23comment-form">注册</a>后发表评论</span></li>
</ul><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p>Mygod 工作室™ 使用了一些特殊的方式研究了一下，并提出存档格式可能长得像下面这样。</p>
<pre class="brush: jscript">{
    "levels": {
        "543": {
            "completed": true,          // completed
            "time": 12345,              // time
            "prismCount": 10,           // prism count
            "rank": "A"                 // rank
        }
    },
    "settings": {
        "musicVolume": 1.0,             // music volume setting
        "sfxVolume": 1.0,               // sfx volume setting
        "visualFxEnabled": true,        // visual FX enabled
        "fullScreen": false,            // full screen setting
        "altinput": false               // alternative input angle setting
    },
    "stats": {
        "edgeTick": 20,                 // edge tick statistic
        "gameBootCount": 10,            // game boot count statistic
        "cubeCrushCount": 5,            // cube crush count
        "lastPlayedLevelType": "bonus", // last played level type
        "lastPlayedLevelIndex": 12,     // last played level index statistics
        "oggMember": true,              // is Steam OGG member
        "achievements": {
            "winter": 6                 // winter achievement data
        }
    }
}</pre></div></div></div>  </div>
</div>
    </div></div>  </body>

<!-- Mirrored from edgefans.tk/book/export/html/143 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 27 Dec 2014 02:24:45 GMT -->
</html>
